import{Y as v,_ as Y,R as I,az as N,aA as O,b as R,f as j,E as z,r as m,o as _,c as k,a as e,w as l,G as C,h as M,l as c,t as u,i as w,k as A,M as G,j as L,ay as q,aB as J,aC as Q,q as W,aE as X,aF as Z,be as $,aD as ee,an as ae,ao as ne,J as le,aG as te}from"./app-BD0aDrl5.js";import{h as oe}from"./hrmManagement-XOzyVVBa.js";import{d as re}from"./datatable-49k8ivXE.js";import{A as se}from"./AdminPageHeader-DXZ-64N9.js";import{H as de}from"./HolidaySidebar-Bxd3XsQq.js";import"./filter-Bik3ud0M.js";import"./index-tfK753mH.js";import"./ScheduleOutlined-CvmMkjLq.js";import"./TabletOutlined-DV7OeZRl.js";const ie=()=>{const n="holidays",{t:o}=v(),s=[],a={name:"",year:"",month:"",date:void 0},p=[{title:o("holiday.name"),dataIndex:"name"},{title:o("holiday.date"),dataIndex:"date"}],y=[{key:"name",value:o("common.name")}];return{addEditUrl:n,initData:a,columns:p,filterableColumns:y,hashableColumns:s}},me={components:{PlusOutlined:I,EditOutlined:N,DeleteOutlined:O,AdminPageHeader:se,HolidaySidebar:de},setup(){v();const{columns:n,filterableColumns:o}=ie(),s=re(),{permsArray:a,appSetting:p,formatDate:y,dayjs:g}=R(),{monthArrays:f}=oe(),d=j({holiday_type:"all",year:g(),month:void 0});z(()=>{h()});const h=()=>{s.tableUrl.value={url:"holidays?fields=id,xid,name,year,date,month,is_weekend",extraFilters:{...d.value,year:d.value.year.format("YYYY")}},s.table.filterableColumns=o,s.table.sorter={field:"date",order:"desc"},s.fetch({page:1})};return{...s,columns:n,filterableColumns:o,permsArray:a,appSetting:p,formatDate:y,setUrlData:h,monthArrays:f,extraFilters:d}}},_e={class:"table-responsive"};function ce(n,o,s,a,p,y){const g=q,f=m("router-link"),d=J,h=Q,x=m("AdminPageHeader"),S=m("HolidaySidebar"),r=W,D=X,F=Z,U=$,H=te,P=ee,i=M,B=m("admin-page-filters"),b=ae,E=ne,K=le,T=m("admin-page-table-content");return _(),k(C,null,[e(x,null,{header:l(()=>[e(g,{title:n.$t("menu.all_holidays"),class:"p-0"},null,8,["title"])]),breadcrumb:l(()=>[e(h,{separator:"-",style:{"font-size":"12px"}},{default:l(()=>[e(d,null,{default:l(()=>[e(f,{to:{name:"admin.dashboard.index"}},{default:l(()=>[c(u(n.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),e(d,null,{default:l(()=>[c(u(n.$t("menu.hrm")),1)]),_:1}),e(d,null,{default:l(()=>[c(u(n.$t("menu.all_holidays")),1)]),_:1})]),_:1})]),_:1}),e(i,null,{default:l(()=>[a.permsArray.includes("holidays_create")||a.permsArray.includes("holidays_edit")||a.permsArray.includes("holidays_delete")||a.permsArray.includes("mark_weekend_holiday")||a.permsArray.includes("admin")?(_(),w(r,{key:0,xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:l(()=>[e(S)]),_:1})):A("",!0),e(r,{xs:24,sm:24,md:24,lg:a.permsArray.includes("holidays_create")||a.permsArray.includes("holidays_edit")||a.permsArray.includes("holidays_delete")||a.permsArray.includes("mark_weekend")||a.permsArray.includes("admin")?20:24,xl:a.permsArray.includes("holidays_create")||a.permsArray.includes("holidays_edit")||a.permsArray.includes("holidays_delete")||a.permsArray.includes("mark_weekend")||a.permsArray.includes("admin")?20:24},{default:l(()=>[e(B,null,{default:l(()=>[e(i,{gutter:[16,16]},{default:l(()=>[e(r,{xs:24,sm:24,md:12,lg:10,xl:10}),e(r,{xs:24,sm:24,md:12,lg:14,xl:14},{default:l(()=>[e(i,{gutter:[16,16],justify:"end"},{default:l(()=>[e(r,{xs:24,sm:24,md:12,lg:12,xl:8},{default:l(()=>[e(F,{compact:""},{default:l(()=>[e(D,{style:{width:"100%"},value:n.table.searchString,"onUpdate:value":o[0]||(o[0]=t=>n.table.searchString=t),"show-search":"",onChange:n.onTableSearch,onSearch:n.onTableSearch,loading:n.table.filterLoading,placeholder:n.$t("common.placeholder_search_text",[n.$t("common.name")])},null,8,["value","onChange","onSearch","loading","placeholder"])]),_:1})]),_:1}),e(r,{xs:24,sm:24,md:8,lg:8,xl:6},{default:l(()=>[e(U,{value:a.extraFilters.year,"onUpdate:value":o[1]||(o[1]=t=>a.extraFilters.year=t),placeholder:n.$t("common.select_default_text",[n.$t("holiday.year")]),picker:"year",onChange:a.setUrlData,style:{width:"100%"},allowClear:!1},null,8,["value","placeholder","onChange"])]),_:1}),e(r,{xs:24,sm:24,md:8,lg:8,xl:6},{default:l(()=>[e(P,{value:a.extraFilters.month,"onUpdate:value":o[2]||(o[2]=t=>a.extraFilters.month=t),placeholder:n.$t("common.select_default_text",[n.$t("holiday.month")]),allowClear:!0,style:{width:"100%"},optionFilterProp:"title","show-search":"",onChange:a.setUrlData},{default:l(()=>[(_(!0),k(C,null,G(a.monthArrays,t=>(_(),w(H,{key:t.name,value:t.value},{default:l(()=>[c(u(t.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder","onChange"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(T,null,{default:l(()=>[e(i,null,{default:l(()=>[e(r,{span:24},{default:l(()=>[e(E,{activeKey:a.extraFilters.holiday_type,"onUpdate:activeKey":o[3]||(o[3]=t=>a.extraFilters.holiday_type=t),onChange:a.setUrlData},{default:l(()=>[e(b,{key:"all",tab:`${n.$t("common.all")}`},null,8,["tab"]),e(b,{key:"holiday",tab:`${n.$t("common.holiday")}`},null,8,["tab"]),e(b,{key:"weekend",tab:`${n.$t("common.weekends")}`},null,8,["tab"])]),_:1},8,["activeKey","onChange"])]),_:1})]),_:1}),e(i,null,{default:l(()=>[e(r,{span:24},{default:l(()=>[L("div",_e,[e(K,{"row-selection":{selectedRowKeys:n.table.selectedRowKeys,onChange:n.onRowSelectChange,getCheckboxProps:t=>({disabled:!1,name:t.xid})},columns:a.columns,"row-key":t=>t.xid,"data-source":n.table.data,pagination:n.table.pagination,loading:n.table.loading,onChange:n.handleTableChange,bordered:"",size:"middle"},{bodyCell:l(({column:t,record:V})=>[t.dataIndex==="date"?(_(),k(C,{key:0},[c(u(a.formatDate(V.date)),1)],64)):A("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["lg","xl"])]),_:1})],64)}const we=Y(me,[["render",ce]]);export{we as default};

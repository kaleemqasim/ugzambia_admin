import{A as H,f as j}from"./fields-Kp-IH4SK.js";import{c as G}from"./crud-KXVRA3U0.js";import{_ as L,R as q,az as J,aA as Q,b as W,E as X,r as s,o as d,c as h,a,w as n,G as C,l as i,t as m,i as u,k as c,M as Y,j as Z,ay as x,aB as ee,aC as ae,B as ne,a0 as te,q as oe,aD as le,aE as se,aF as de,h as re,J as ie,aG as me,al as ue}from"./app-DVDFvYcV.js";import{A as ce}from"./AdminPageHeader-DSNZKHLn.js";import{I as pe}from"./Import-LvWrW1MW.js";import"./apiAdmin-D_rwEECy.js";import"./Upload-C5RISKny.js";import"./SaveOutlined-BpbPs1He.js";import"./datatable-CS_uQVQc.js";import"./filter-DagK6GoR.js";import"./index-BEo7fYpq.js";import"./UploadFile-Cco1sdsd.js";import"./CloudDownloadOutlined-7FSu5vRD.js";const _e={components:{PlusOutlined:q,EditOutlined:J,DeleteOutlined:Q,AddEdit:H,AdminPageHeader:ce,ImportBrands:pe},setup(){const{addEditUrl:e,initData:r,columns:k,filterableColumns:t}=j(),l=G(),{permsArray:A}=W(),f=window.config.brand_sample_file;X(()=>{p()});const p=()=>{l.tableUrl.value={url:"brands?fields=id,xid,name,slug,image,image_url"},l.table.filterableColumns=t,l.fetch({page:1}),l.crudUrl.value=e,l.langKey.value="brand",l.initData.value={...r},l.formData.value={...r}};return{columns:k,filterableColumns:t,permsArray:A,...l,sampleFileUrl:f,setUrlData:p}}},ge={class:"table-responsive"};function fe(e,r,k,t,l,A){const f=x,p=s("router-link"),b=ee,D=ae,U=s("AdminPageHeader"),S=s("PlusOutlined"),_=ne,O=s("ImportBrands"),v=te,w=s("DeleteOutlined"),g=oe,T=me,B=le,I=se,P=de,y=re,F=s("admin-page-filters"),V=s("AddEdit"),M=ue,R=s("EditOutlined"),K=ie,N=s("admin-page-table-content");return d(),h(C,null,[a(U,null,{header:n(()=>[a(f,{title:e.$t("menu.brands"),class:"p-0"},null,8,["title"])]),breadcrumb:n(()=>[a(D,{separator:"-",style:{"font-size":"12px"}},{default:n(()=>[a(b,null,{default:n(()=>[a(p,{to:{name:"admin.dashboard.index"}},{default:n(()=>[i(m(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),a(b,null,{default:n(()=>[i(m(e.$t("menu.product_manager")),1)]),_:1}),a(b,null,{default:n(()=>[i(m(e.$t("menu.brands")),1)]),_:1})]),_:1})]),_:1}),a(F,null,{default:n(()=>[a(y,{gutter:[16,16]},{default:n(()=>[a(g,{xs:24,sm:24,md:12,lg:10,xl:10},{default:n(()=>[a(v,null,{default:n(()=>[t.permsArray.includes("brands_create")||t.permsArray.includes("admin")?(d(),u(v,{key:0},{default:n(()=>[a(_,{type:"primary",onClick:e.addItem},{default:n(()=>[a(S),i(" "+m(e.$t("brand.add")),1)]),_:1},8,["onClick"]),a(O,{pageTitle:e.$t("brand.import_brands"),sampleFileUrl:t.sampleFileUrl,importUrl:"brands/import",onOnUploadSuccess:t.setUrlData},null,8,["pageTitle","sampleFileUrl","onOnUploadSuccess"])]),_:1})):c("",!0),e.table.selectedRowKeys.length>0&&(t.permsArray.includes("brands_delete")||t.permsArray.includes("admin"))?(d(),u(_,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:n(()=>[a(w)]),default:n(()=>[i(" "+m(e.$t("common.delete")),1)]),_:1},8,["onClick"])):c("",!0)]),_:1})]),_:1}),a(g,{xs:24,sm:24,md:12,lg:14,xl:14},{default:n(()=>[a(y,{gutter:[16,16],justify:"end"},{default:n(()=>[a(g,{xs:24,sm:24,md:12,lg:12,xl:8},{default:n(()=>[a(P,{compact:""},{default:n(()=>[a(B,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":r[0]||(r[0]=o=>e.table.searchColumn=o),placeholder:e.$t("common.select_default_text",[""])},{default:n(()=>[(d(!0),h(C,null,Y(t.filterableColumns,o=>(d(),u(T,{key:o.key},{default:n(()=>[i(m(o.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),a(I,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":r[1]||(r[1]=o=>e.table.searchString=o),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(N,null,{default:n(()=>[a(V,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),a(y,null,{default:n(()=>[a(g,{span:24},{default:n(()=>[Z("div",ge,[a(K,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:o=>({disabled:!1,name:o.xid})},columns:t.columns,"row-key":o=>o.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:n(({column:o,text:$,record:E})=>[o.dataIndex==="image_url"?(d(),u(M,{key:0,width:32,src:$},null,8,["src"])):c("",!0),o.dataIndex==="action"?(d(),h(C,{key:1},[t.permsArray.includes("brands_edit")||t.permsArray.includes("admin")?(d(),u(_,{key:0,type:"primary",onClick:z=>e.editItem(E),style:{"margin-left":"4px"}},{icon:n(()=>[a(R)]),_:2},1032,["onClick"])):c("",!0),t.permsArray.includes("brands_delete")||t.permsArray.includes("admin")?(d(),u(_,{key:1,type:"primary",onClick:z=>e.showDeleteConfirm(E.xid),style:{"margin-left":"4px"}},{icon:n(()=>[a(w)]),_:2},1032,["onClick"])):c("",!0)],64)):c("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})],64)}const Te=L(_e,[["render",fe]]);export{Te as default};

import{_ as F,R as G,az as L,aA as q,Y as J,b as Y,E as Q,r as c,o as n,c as s,a as t,w as a,G as r,h as W,l as u,t as o,i as k,k as _,M as T,j as I,ay as X,aB as Z,aC as x,q as ee,B as te,a0 as ae,aD as ne,aE as oe,aF as le,bk as se,J as ie,aG as de}from"./app-e5_5BpJA.js";import{A as _e,f as re}from"./AddEdit-DGVAH4FK.js";import{c as ue}from"./crud-Bpnh-e0x.js";import{A as me}from"./AdminPageHeader-BuSSAh3l.js";import{S as ce}from"./StaffSidebar-CzSLleIx.js";import{h as pe}from"./hrmManagement-fbJIT8Uk.js";import"./apiAdmin-Bqzff_ZT.js";import"./SaveOutlined-DMh8-s0v.js";import"./datatable-CiB8LmJT.js";import"./filter-DmGvZcqV.js";import"./index-jWmsMwxq.js";import"./UserOutlined-CsDVH32H.js";import"./ContainerOutlined-49Ib8z6S.js";const fe={components:{PlusOutlined:G,EditOutlined:L,DeleteOutlined:q,AddEdit:_e,AdminPageHeader:me,StaffSidebar:ce},setup(){const{t:e}=J(),{addEditUrl:p,initData:C,columns:i,filterableColumns:w}=re(),m=ue(),{permsArray:f,appSetting:S,statusColors:y}=Y(),{formatShiftTime12Hours:A}=pe();return Q(()=>{(f.value.includes("shifts_edit")||f.value.includes("shifts_delete")||f.value.includes("admin"))&&(i.value=[...i.value,{title:e("common.action"),dataIndex:"action"}]),m.tableUrl.value={url:"shifts?fields=id,xid,name,clock_in_time,clock_out_time,late_mark_after,allow_clock_out_till,self_clocking,allowed_ip_address,early_clock_in_time"},m.table.filterableColumns=w,m.fetch({page:1}),m.crudUrl.value=p,m.langKey.value="shift",m.initData.value={...C},m.formData.value={...C}}),{columns:i,...m,filterableColumns:w,permsArray:f,appSetting:S,formatShiftTime12Hours:A,statusColors:y}}},ge={class:"table-responsive"},ye={key:0},ke={key:1},he={key:0},be={key:1},ve={key:0},Ce={key:1},we={key:0},Se={key:1};function Ae(e,p,C,i,w,m){const f=X,S=c("router-link"),y=Z,A=x,O=c("AdminPageHeader"),B=c("StaffSidebar"),g=ee,P=c("PlusOutlined"),h=te,E=c("DeleteOutlined"),H=ae,M=de,U=ne,V=oe,R=le,b=W,$=c("admin-page-filters"),K=c("AddEdit"),D=se,N=c("EditOutlined"),z=ie,j=c("admin-page-table-content");return n(),s(r,null,[t(O,null,{header:a(()=>[t(f,{title:e.$t("menu.shifts"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(A,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(y,null,{default:a(()=>[t(S,{to:{name:"admin.dashboard.index"}},{default:a(()=>[u(o(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(y,null,{default:a(()=>[u(o(e.$t("menu.hrm")),1)]),_:1}),t(y,null,{default:a(()=>[u(o(e.$t("menu.shifts")),1)]),_:1})]),_:1})]),_:1}),t(b,null,{default:a(()=>[t(g,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(B)]),_:1}),t(g,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t($,null,{default:a(()=>[t(b,{gutter:[16,16]},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t(H,null,{default:a(()=>[i.permsArray.includes("shifts_create")||i.permsArray.includes("admin")?(n(),k(h,{key:0,type:"primary",onClick:e.addItem},{default:a(()=>[t(P),u(" "+o(e.$t("shift.add")),1)]),_:1},8,["onClick"])):_("",!0),e.table.selectedRowKeys.length>0&&(i.permsArray.includes("shifts_delete")||i.permsArray.includes("admin"))?(n(),k(h,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(E)]),default:a(()=>[u(" "+o(e.$t("common.delete")),1)]),_:1},8,["onClick"])):_("",!0)]),_:1})]),_:1}),t(g,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(b,{gutter:[16,16],justify:"end"},{default:a(()=>[t(g,{xs:24,sm:24,md:12,lg:12,xl:8},{default:a(()=>[t(R,{compact:""},{default:a(()=>[t(U,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":p[0]||(p[0]=l=>e.table.searchColumn=l),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(n(!0),s(r,null,T(i.filterableColumns,l=>(n(),k(M,{key:l.key},{default:a(()=>[u(o(l.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(V,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":p[1]||(p[1]=l=>e.table.searchString=l),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(j,null,{default:a(()=>[t(K,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),t(b,null,{default:a(()=>[t(g,{span:24},{default:a(()=>[I("div",ge,[t(z,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:l=>({disabled:!1,name:l.xid})},columns:i.columns,"row-key":l=>l.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:l,record:d})=>[l.dataIndex==="late_mark_after"?(n(),s(r,{key:0},[d.late_mark_after!=null?(n(),s("div",ye,o(d.late_mark_after)+" "+o(e.$t("common.minutes")),1)):(n(),s("div",ke,o("-")))],64)):_("",!0),l.dataIndex==="early_clock_in_time"?(n(),s(r,{key:1},[d.early_clock_in_time!=null?(n(),s("div",he,o(d.early_clock_in_time)+" "+o(e.$t("common.minutes")),1)):(n(),s("div",be,o("-")))],64)):_("",!0),l.dataIndex==="allow_clock_out_till"?(n(),s(r,{key:2},[d.allow_clock_out_till!=null?(n(),s("div",ve,o(d.allow_clock_out_till)+" "+o(e.$t("common.minutes")),1)):(n(),s("div",Ce,o("-")))],64)):_("",!0),l.dataIndex==="allowed_ip_address"?(n(!0),s(r,{key:3},T(d.allowed_ip_address,v=>(n(),s("ul",{key:v.allowed_ip_address},[I("li",null,o(v.allowed_ip_address),1)]))),128)):_("",!0),l.dataIndex=="self_clocking"?(n(),s(r,{key:4},[d.self_clocking==1?(n(),s("div",we,[t(D,{color:i.statusColors.enabled},{default:a(()=>[u(o(e.$t("common.yes")),1)]),_:1},8,["color"])])):(n(),s("div",Se,[t(D,{color:i.statusColors.disabled},{default:a(()=>[u(o(e.$t("common.no")),1)]),_:1},8,["color"])]))],64)):_("",!0),l.dataIndex==="clock_in_time"?(n(),s(r,{key:5},[u(o(i.formatShiftTime12Hours(d.clock_in_time)),1)],64)):_("",!0),l.dataIndex==="clock_out_time"?(n(),s(r,{key:6},[u(o(i.formatShiftTime12Hours(d.clock_out_time)),1)],64)):_("",!0),l.dataIndex==="action"?(n(),s(r,{key:7},[i.permsArray.includes("shifts_edit")||i.permsArray.includes("admin")?(n(),k(h,{key:0,type:"primary",onClick:v=>e.editItem(d),style:{"margin-left":"4px"}},{icon:a(()=>[t(N)]),_:2},1032,["onClick"])):_("",!0),i.permsArray.includes("shifts_delete")||i.permsArray.includes("admin")?(n(),k(h,{key:1,type:"primary",onClick:v=>e.showDeleteConfirm(d.xid),style:{"margin-left":"4px"}},{icon:a(()=>[t(E)]),_:2},1032,["onClick"])):_("",!0)],64)):_("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const Ke=F(fe,[["render",Ae]]);export{Ke as default};

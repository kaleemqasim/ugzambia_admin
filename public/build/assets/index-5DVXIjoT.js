import{_ as H,R as I,aA as N,b as F,z as G,f as p,E as M,a6 as L,r as s,o as i,c as T,a as t,w as n,G as R,l as m,t as c,i as h,k as A,M as C,ay as $,aB as J,aC as Q,B as V,a0 as W,q as X,aE as Y,aD as Z,h as ee,an as te,ao as ne,aG as ae}from"./app-Cvdl-N8r.js";import{O as oe}from"./OrderTable-DK5xdOvP.js";import{D as re}from"./DateRangePicker-CzqhiN_E.js";import{A as le}from"./AdminPageHeader-GSkuhuo_.js";import"./fields-B59taCEV.js";import"./datatable-C79wjH3k.js";import"./filter-BCaEZgEP.js";import"./PaymentStatus-D7efIDP9.js";import"./OrderDetails-C4kqWJjF.js";import"./cart-ag3p3lct.js";import"./UserInfo-65C9gF0x.js";import"./apiAdmin-CU2Ld6Fg.js";import"./AddButton-DdwsvyoP.js";import"./AddEdit-BYusdUDu.js";import"./SaveOutlined-BmjoTTQa.js";import"./Invoice-COHpoJp_.js";import"./BarcodeGenerator-Bb2O1Lyl.js";import"./PrinterOutlined-BfeWU34f.js";import"./View-DUl0KODI.js";import"./ArrowUpOutlined-CY5YF-9L.js";import"./SendOutlined-D7l9nj3h.js";import"./WalletOutlined-v3Juu7i0.js";import"./ShoppingCartOutlined-CtPbgB50.js";import"./DollarCircleOutlined-CSlNboZ2.js";import"./index-D5IUktTX.js";const se={components:{PlusOutlined:I,DeleteOutlined:N,OrderTable:oe,DateRangePicker:re,AdminPageHeader:le},setup(){const{formatAmountCurrency:o,orderType:r,orderPageObject:P,orderStatus:e,permsArray:j}=F(),O=G(),f=p([]),u=p(null),_=p([]),k=p(null),g=p({payment_status:"all",user_id:void 0,dates:[],searchColumn:"invoice_number",searchString:""});M(()=>{y()});const y=()=>{const l=axiosAdmin.get(`${P.value.userType}?limit=10000`);Promise.all([l]).then(([b])=>{f.value=b.data})};return L(()=>O.meta.orderType,(l,b)=>{(l=="purchases"||l=="purchase-returns"||l=="sales"||l=="sales-returns"||l=="quotations")&&(r.value=O.meta.orderType,g.value={payment_status:"all",user_id:void 0,dates:[],searchColumn:"invoice_number",searchString:""},y(),u.value.resetPicker())}),{orderPageObject:P,permsArray:j,orderStatus:e,formatAmountCurrency:o,users:f,filters:g,orderType:r,serachDateRangePicker:u,selectedRowIds:_,orderTableRef:k}}};function ie(o,r,P,e,j,O){const f=$,u=s("router-link"),_=J,k=Q,g=s("AdminPageHeader"),y=s("PlusOutlined"),l=V,b=s("DeleteOutlined"),w=W,d=X,S=Y,x=ae,K=Z,B=s("DateRangePicker"),v=ee,U=s("admin-page-filters"),D=te,q=ne,z=s("OrderTable"),E=s("admin-page-table-content");return i(),T(R,null,[t(g,null,{header:n(()=>[t(f,{title:o.$t(`menu.${e.orderPageObject.menuKey}`),class:"p-0"},null,8,["title"])]),breadcrumb:n(()=>[t(k,{separator:"-",style:{"font-size":"12px"}},{default:n(()=>[t(_,null,{default:n(()=>[t(u,{to:{name:"admin.dashboard.index"}},{default:n(()=>[m(c(o.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),t(_,null,{default:n(()=>[m(c(e.orderPageObject.type=="sales"||e.orderPageObject.type=="sales-returns"||e.orderPageObject.type=="quotations"?o.$t("menu.sales"):o.$t("menu.purchases")),1)]),_:1}),t(_,null,{default:n(()=>[m(c(o.$t(`menu.${e.orderPageObject.menuKey}`)),1)]),_:1})]),_:1})]),_:1}),t(U,null,{default:n(()=>[t(v,{gutter:[16,16]},{default:n(()=>[t(d,{xs:24,sm:24,md:12,lg:10,xl:10},{default:n(()=>[t(w,null,{default:n(()=>[e.permsArray.includes(`${e.orderPageObject.permission}_create`)||e.permsArray.includes("admin")?(i(),h(u,{key:0,to:{name:`admin.stock.${e.orderPageObject.type}.create`}},{default:n(()=>[t(l,{type:"primary"},{default:n(()=>[t(y),m(" "+c(o.$t(`${e.orderPageObject.langKey}.add`)),1)]),_:1})]),_:1},8,["to"])):A("",!0),e.selectedRowIds.length>0&&(e.permsArray.includes(`${e.orderPageObject.permission}_view`)||e.permsArray.includes("admin"))?(i(),h(l,{key:1,type:"primary",onClick:e.orderTableRef.showSelectedDeleteConfirm,danger:""},{icon:n(()=>[t(b)]),default:n(()=>[m(" "+c(o.$t("common.delete")),1)]),_:1},8,["onClick"])):A("",!0)]),_:1})]),_:1}),t(d,{xs:24,sm:24,md:12,lg:14,xl:14},{default:n(()=>[t(v,{gutter:[16,16],justify:"end"},{default:n(()=>[t(d,{xs:24,sm:24,md:12,lg:8,xl:6},{default:n(()=>[t(S,{style:{width:"100%"},value:e.filters.searchString,"onUpdate:value":r[0]||(r[0]=a=>e.filters.searchString=a),"show-search":"",placeholder:o.$t("common.placeholder_search_text",[o.$t("stock.invoice_number")])},null,8,["value","placeholder"])]),_:1}),t(d,{xs:24,sm:24,md:8,lg:8,xl:6},{default:n(()=>[t(K,{value:e.filters.user_id,"onUpdate:value":r[1]||(r[1]=a=>e.filters.user_id=a),placeholder:o.$t("common.select_default_text",[o.$t(`${e.orderPageObject.langKey}.user`)]),allowClear:!0,style:{width:"100%"},optionFilterProp:"title","show-search":""},{default:n(()=>[(i(!0),T(R,null,C(e.users,a=>(i(),h(x,{key:a.xid,title:a.name,value:a.xid},{default:n(()=>[m(c(a.name),1)]),_:2},1032,["title","value"]))),128))]),_:1},8,["value","placeholder"])]),_:1}),t(d,{xs:24,sm:24,md:8,lg:8,xl:6},{default:n(()=>[t(B,{ref:"serachDateRangePicker",onDateTimeChanged:r[2]||(r[2]=a=>e.filters.dates=a)},null,512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(E,null,{default:n(()=>[t(v,null,{default:n(()=>[t(d,{span:24},{default:n(()=>[t(q,{activeKey:e.filters.payment_status,"onUpdate:activeKey":r[3]||(r[3]=a=>e.filters.payment_status=a)},{default:n(()=>[t(D,{key:"all",tab:`${o.$t("common.all")} ${o.$t("menu."+e.orderPageObject.menuKey)}`},null,8,["tab"]),(i(!0),T(R,null,C(e.orderStatus,a=>(i(),h(D,{key:a.key,tab:`${a.value}`},null,8,["tab"]))),128))]),_:1},8,["activeKey"])]),_:1})]),_:1}),t(z,{ref:"orderTableRef",orderType:e.orderType,filters:e.filters,tableSize:"middle",bordered:!0,selectable:!0,onOnRowSelection:r[4]||(r[4]=a=>e.selectedRowIds=a)},null,8,["orderType","filters"])]),_:1})],64)}const Be=H(se,[["render",ie]]);export{Be as default};

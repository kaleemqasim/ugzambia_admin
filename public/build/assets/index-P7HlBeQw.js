import{_ as B,az as j,aA as G,bm as J,b as L,Y,E as Q,r as d,o as i,c as v,a as n,w as a,T as W,i as c,l as f,t as y,k as g,G as w,M as X,j as Z,au as x,B as P,a0 as R,q as V,aD as ee,aE as ne,aF as ae,h as F,a1 as te,bn as oe,bo as le,K as se,ar as ie,J as de,aG as re,R as me,f as ue,ay as _e,aB as pe,aC as ce}from"./app-vDV-xpWf.js";import{S as ge}from"./SettingSidebar-DlYCfKlG.js";import{A as fe}from"./AdminPageHeader-CxKpPE6o.js";import{c as ye}from"./crud-uexl6p80.js";import{a as be}from"./apiAdmin-DYB-rOjd.js";import{A as he,f as ke}from"./AddEdit-Ce3npjon.js";import{I as Ce}from"./Import-BtNNVc9_.js";import"./MailOutlined-Dy_MOY7c.js";import"./TranslationOutlined-DKcPQ9Ml.js";import"./UserOutlined-CwLXuKhT.js";import"./ShoppingCartOutlined-3qXBfj5q.js";import"./ScheduleOutlined-C7Xco3Xo.js";import"./AppstoreAddOutlined-Nam5ZScO.js";import"./FormOutlined-Cqa0GloA.js";import"./index-QGdl8fPW.js";import"./datatable-8C98HCdg.js";import"./filter-BRptesj8.js";import"./Upload-KQI7-iYA.js";import"./SaveOutlined-10C5dymZ.js";import"./UploadFile-reVZ9Lpx.js";import"./CloudDownloadOutlined-B8yN353Y.js";const Se={props:{panelType:{type:String,default:"admin"}},components:{EditOutlined:j,DeleteOutlined:G,AddEdit:he,DownloadOutlined:J},setup(){const{addEditRequestAdmin:e,loading:r}=be(),{permsArray:s,downloadLangCsvUrl:t}=L(),{url:C,addEditUrl:E,initData:b,columns:u,filterableColumns:_}=ke(),o=ye(),{t:h}=Y();return Q(()=>{o.tableUrl.value={url:C},o.table.filterableColumns=_,o.fetch({page:1}),o.crudUrl.value=E,o.langKey.value="langs",o.initData.value={...b},o.formData.value={...b}}),{permsArray:s,downloadLangCsvUrl:t,columns:u,...o,filterableColumns:_,changeLangStatus:p=>{e({url:x(`langs/${p.xid}`),data:{name:p.name,key:p.key,enabled:p.enabled,_method:"PUT"},successMessage:h("langs.status_updated"),success:A=>{}})},loading:r}}},Ae={class:"table-responsive"};function Te(e,r,s,t,C,E){const b=d("DeleteOutlined"),u=P,_=R,o=V,h=re,S=ee,p=ne,A=ae,k=F,U=d("admin-page-filters"),D=d("AddEdit"),I=te,O=oe,M=le,z=se,K=d("EditOutlined"),N=d("DownloadOutlined"),q=ie,H=de,$=d("admin-page-table-content");return i(),v(w,null,[n(U,null,{default:a(()=>[n(k,{gutter:[16,16]},{default:a(()=>[n(o,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[n(_,null,{default:a(()=>[W(e.$slots,"actionButtons"),e.table.selectedRowKeys.length>0&&(t.permsArray.includes("translations_edit")||t.permsArray.includes("admin"))?(i(),c(u,{key:0,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[n(b)]),default:a(()=>[f(" "+y(e.$t("common.delete")),1)]),_:1},8,["onClick"])):g("",!0)]),_:3})]),_:3}),n(o,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[n(k,{gutter:[16,16],justify:"end"},{default:a(()=>[n(o,{xs:24,sm:24,md:16,lg:12,xl:10},{default:a(()=>[n(A,{compact:""},{default:a(()=>[n(S,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":r[0]||(r[0]=l=>e.table.searchColumn=l),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(i(!0),v(w,null,X(t.filterableColumns,l=>(i(),c(h,{key:l.key},{default:a(()=>[f(y(l.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),n(p,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":r[1]||(r[1]=l=>e.table.searchString=l),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:3})]),_:3}),n($,null,{default:a(()=>[n(D,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),n(k,null,{default:a(()=>[n(o,{span:24},{default:a(()=>[Z("div",Ae,[n(H,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:l=>({disabled:!((s.panelType=="admin"&&(t.permsArray.includes("translations_delete")||t.permsArray.includes("admin"))||s.panelType=="superadmin")&&l.key!="en"),name:l.xid})},columns:t.columns,"row-key":l=>l.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading||t.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:l,record:m})=>[l.dataIndex==="name"?(i(),c(M,{key:0},{default:a(()=>[n(O,null,{title:a(()=>[f(y(m.name),1)]),avatar:a(()=>[n(I,{shape:"square",size:"small",src:m.image_url},null,8,["src"])]),_:2},1024)]),_:2},1024)):g("",!0),l.dataIndex==="enabled"?(i(),c(z,{key:1,checked:m.enabled,"onUpdate:checked":T=>m.enabled=T,checkedValue:1,unCheckedValue:0,onChange:T=>t.changeLangStatus(m),size:"small",disabled:s.panelType=="admin"&&!(t.permsArray.includes("translations_edit")||t.permsArray.includes("admin"))||m.key=="en"},null,8,["checked","onUpdate:checked","onChange","disabled"])):g("",!0),l.dataIndex==="action"?(i(),v(w,{key:2},[(s.panelType=="admin"&&(t.permsArray.includes("translations_edit")||t.permsArray.includes("admin"))||s.panelType=="superadmin")&&m.key!="en"?(i(),c(u,{key:0,type:"primary",onClick:T=>e.editItem(m),style:{"margin-left":"4px"}},{icon:a(()=>[n(K)]),_:2},1032,["onClick"])):g("",!0),(s.panelType=="admin"&&(t.permsArray.includes("translations_delete")||t.permsArray.includes("admin"))||s.panelType=="superadmin")&&m.key!="en"?(i(),c(u,{key:1,type:"primary",onClick:T=>e.showDeleteConfirm(m.xid),style:{"margin-left":"4px"}},{icon:a(()=>[n(b)]),_:2},1032,["onClick"])):g("",!0),n(q,{href:`${t.downloadLangCsvUrl}/${m.xid}`,target:"_blank"},{default:a(()=>[n(u,{type:"primary",style:{"margin-left":"4px"}},{icon:a(()=>[n(N)]),_:1})]),_:2},1032,["href"])],64)):g("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})],64)}const ve=B(Se,[["render",Te]]),we={components:{PlusOutlined:me,SettingSidebar:ge,AdminPageHeader:fe,LanguageSettings:ve,ImportTranslation:Ce},setup(){const{permsArray:e,appType:r}=L(),s=ue(null),t=window.config.translatioins_sample_file;return{permsArray:e,appType:r,langSettingRef:s,addItem:()=>{s.value.addItem()},sampleFileUrl:t}}};function Ee(e,r,s,t,C,E){const b=_e,u=d("router-link"),_=pe,o=ce,h=d("AdminPageHeader"),S=d("SettingSidebar"),p=V,A=d("PlusOutlined"),k=P,U=d("ImportTranslation"),D=R,I=d("LanguageSettings"),O=F;return i(),v(w,null,[n(h,null,{header:a(()=>[n(b,{title:e.$t("menu.languages"),onBack:r[0]||(r[0]=()=>e.$router.push({name:"admin.settings.translations.index"})),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[n(o,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[n(_,null,{default:a(()=>[n(u,{to:{name:"admin.dashboard.index"}},{default:a(()=>[f(y(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),n(_,null,{default:a(()=>[f(y(e.$t("menu.settings")),1)]),_:1}),n(_,null,{default:a(()=>[n(u,{to:{name:"admin.settings.translations.index"}},{default:a(()=>[f(y(e.$t("menu.translations")),1)]),_:1},8,["to"])]),_:1}),n(_,null,{default:a(()=>[f(y(e.$t("menu.languages")),1)]),_:1})]),_:1})]),_:1}),n(O,null,{default:a(()=>[n(p,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[n(S)]),_:1}),n(p,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[n(I,{ref:"langSettingRef"},{actionButtons:a(()=>[t.permsArray.includes("translations_create")||t.permsArray.includes("admin")?(i(),c(D,{key:0},{default:a(()=>[n(k,{type:"primary",onClick:t.addItem},{default:a(()=>[n(A),f(" "+y(e.$t("langs.add")),1)]),_:1},8,["onClick"]),t.appType=="non-saas"?(i(),c(U,{key:0,pageTitle:e.$t("translations.import_translations"),sampleFileUrl:t.sampleFileUrl,importUrl:"translations/import"},null,8,["pageTitle","sampleFileUrl"])):g("",!0)]),_:1})):g("",!0)]),_:1},512)]),_:1})]),_:1})],64)}const Qe=B(we,[["render",Ee]]);export{Qe as default};

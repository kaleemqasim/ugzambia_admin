import{au as g,Y as $,_ as h,d as D,R as C,aT as U,u as O,r as c,o as I,i as T,w as l,a,l as _,t as k,I as w,n as E,q as A,h as B,F as q,B as M,X as F}from"./app-HdXSdTOu.js";import{a as L}from"./apiAdmin-jek4HXdt.js";import{U as N}from"./Upload-iMmlPBEo.js";import{S as R}from"./SaveOutlined-8JMskt8c.js";const z=()=>{const e=g("langs?fields=id,xid,name,image,image_url,key,enabled"),n=g("langs"),{t:o}=$(),u={name:"",key:"",image:void 0,image_url:void 0,enabled:!0},s=[{title:o("langs.name"),dataIndex:"name"},{title:o("langs.key"),dataIndex:"key"},{title:o("langs.enabled"),dataIndex:"enabled"},{title:o("common.action"),dataIndex:"action"}],r=[{key:"name",value:o("langs.name")}];return{url:e,addEditUrl:n,initData:u,columns:s,filterableColumns:r}},V=D({props:["formData","data","visible","url","addEditType","pageTitle","successMessage"],components:{PlusOutlined:C,LoadingOutlined:U,SaveOutlined:R,Upload:N},setup(e,{emit:n}){const{addEditRequestAdmin:o,loading:u,rules:s}=L(),r=O();return{loading:u,rules:s,onClose:()=>{s.value={},n("closed")},onSubmit:()=>{o({url:e.url,data:e.formData,successMessage:e.successMessage,success:d=>{n("addEditSuccess",d.xid),r.dispatch("auth/updateAllLangs")}})},drawerWidth:window.innerWidth<=991?"90%":"45%"}}});function W(e,n,o,u,s,r){const m=w,i=E,d=A,p=B,y=c("Upload"),b=q,v=c("SaveOutlined"),f=M,S=F;return I(),T(S,{open:e.visible,closable:!1,centered:!0,title:e.pageTitle,onOk:e.onSubmit},{footer:l(()=>[a(f,{key:"submit",type:"primary",loading:e.loading,onClick:e.onSubmit},{icon:l(()=>[a(v)]),default:l(()=>[_(" "+k(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["loading","onClick"]),a(f,{key:"back",onClick:e.onClose},{default:l(()=>[_(k(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:l(()=>[a(b,{layout:"vertical"},{default:l(()=>[a(p,{gutter:16},{default:l(()=>[a(d,{xs:24,sm:24,md:24,lg:24},{default:l(()=>[a(i,{label:e.$t("langs.name"),name:"name",help:e.rules.name?e.rules.name.message:null,validateStatus:e.rules.name?"error":null,class:"required"},{default:l(()=>[a(m,{value:e.formData.name,"onUpdate:value":n[0]||(n[0]=t=>e.formData.name=t),placeholder:e.$t("common.placeholder_default_text",[e.$t("langs.name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),a(p,{gutter:16},{default:l(()=>[a(d,{xs:24,sm:24,md:24,lg:24},{default:l(()=>[a(i,{label:e.$t("langs.key"),name:"key",help:e.rules.key?e.rules.key.message:null,validateStatus:e.rules.key?"error":null,class:"required"},{default:l(()=>[a(m,{value:e.formData.key,"onUpdate:value":n[1]||(n[1]=t=>e.formData.key=t),placeholder:e.$t("common.placeholder_default_text",[e.$t("langs.key")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),a(p,null,{default:l(()=>[a(d,{span:24},{default:l(()=>[a(i,{label:e.$t("langs.flag"),name:"image",help:e.rules.image?e.rules.image.message:null,validateStatus:e.rules.image?"error":null},{default:l(()=>[a(y,{formData:e.formData,folder:"langs",onOnFileUploaded:n[2]||(n[2]=t=>{e.formData.image=t.file,e.formData.image_url=t.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title","onOk"])}const G=h(V,[["render",W]]);export{G as A,z as f};

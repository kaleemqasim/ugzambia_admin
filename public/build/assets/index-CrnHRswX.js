import{c as N}from"./crud-CydXdSUh.js";import{_ as z,R as j,az as F,aA as G,aH as L,b as q,Y as J,E as Y,r as i,o,c as p,a,w as t,G as f,h as Q,l as d,t as r,i as y,k as _,M as w,j as W,ay as X,aB as Z,aC as ee,q as ae,B as te,a0 as ne,aD as le,aE as oe,aF as se,J as ie,aG as de}from"./app-CXajSIJN.js";import{A as re,f as me}from"./AddEdit-2fUY061K.js";import{S as ue}from"./SettingSidebar-3V-LIOWq.js";import{A as pe}from"./AdminPageHeader-CLpphX8z.js";import"./datatable-BwALyFLJ.js";import"./filter-Buzvu9Uk.js";import"./apiAdmin-Dhq5SQLb.js";import"./FormItemHeading-ZJeoBfJd.js";import"./some-BtGTeKZe.js";import"./_isIterateeCall-DkAlU37N.js";import"./sumBy--fTg4GvQ.js";import"./SaveOutlined-Ba1zpIZL.js";import"./MailOutlined-BW0i__Sb.js";import"./TranslationOutlined-D9NkzT_h.js";import"./UserOutlined-CX935EjQ.js";import"./ShoppingCartOutlined-DTDtL_eQ.js";import"./ScheduleOutlined-DQyhwZ4d.js";import"./AppstoreAddOutlined-DSN-rioO.js";import"./FormOutlined-pPwOCyZp.js";import"./index-CDZHKPbx.js";const _e={components:{PlusOutlined:j,EditOutlined:F,DeleteOutlined:G,AddEdit:re,SettingSidebar:ue,AdminPageHeader:pe,ExclamationCircleOutlined:L},setup(){const{permsArray:e}=q(),{url:c,addEditUrl:v,initData:l,columns:E,filterableColumns:k,hashableColumns:A}=me(),s=N();J(),Y(()=>{s.crudUrl.value=v,s.langKey.value="tax",s.initData.value={...l},s.formData.value={...l},s.hashableColumns.value=[...A],s.table.filterableColumns=k,b()});const b=()=>{s.tableUrl.value={url:c},s.fetch({page:1})};return{permsArray:e,columns:E,...s,filterableColumns:k}}},ce={class:"table-responsive"},ge={key:0},fe={key:1};function ye(e,c,v,l,E,k){const A=X,s=i("router-link"),b=Z,D=ee,x=i("AdminPageHeader"),O=i("SettingSidebar"),m=ae,T=i("PlusOutlined"),C=te,S=i("DeleteOutlined"),B=ne,P=de,U=le,I=oe,V=se,g=Q,$=i("admin-page-filters"),M=i("AddEdit"),R=i("EditOutlined"),H=ie,K=i("admin-page-table-content");return o(),p(f,null,[a(x,null,{header:t(()=>[a(A,{title:e.$t("menu.taxes"),class:"p-0"},null,8,["title"])]),breadcrumb:t(()=>[a(D,{separator:"-",style:{"font-size":"12px"}},{default:t(()=>[a(b,null,{default:t(()=>[a(s,{to:{name:"admin.dashboard.index"}},{default:t(()=>[d(r(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),a(b,null,{default:t(()=>[d(r(e.$t("menu.settings")),1)]),_:1}),a(b,null,{default:t(()=>[d(r(e.$t("menu.taxes")),1)]),_:1})]),_:1})]),_:1}),a(g,null,{default:t(()=>[a(m,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:t(()=>[a(O)]),_:1}),a(m,{xs:24,sm:24,md:24,lg:20,xl:20},{default:t(()=>[a($,null,{default:t(()=>[a(g,{gutter:[16,16]},{default:t(()=>[a(m,{xs:24,sm:24,md:12,lg:10,xl:10},{default:t(()=>[a(B,null,{default:t(()=>[l.permsArray.includes("taxes_create")||l.permsArray.includes("admin")?(o(),y(C,{key:0,type:"primary",onClick:e.addItem},{default:t(()=>[a(T),d(" "+r(e.$t("tax.add")),1)]),_:1},8,["onClick"])):_("",!0),e.table.selectedRowKeys.length>0&&(l.permsArray.includes("taxes_delete")||l.permsArray.includes("admin"))?(o(),y(C,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:t(()=>[a(S)]),default:t(()=>[d(" "+r(e.$t("common.delete")),1)]),_:1},8,["onClick"])):_("",!0)]),_:1})]),_:1}),a(m,{xs:24,sm:24,md:12,lg:14,xl:14},{default:t(()=>[a(g,{gutter:[16,16],justify:"end"},{default:t(()=>[a(m,{xs:24,sm:24,md:16,lg:12,xl:10},{default:t(()=>[a(V,{compact:""},{default:t(()=>[a(U,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":c[0]||(c[0]=n=>e.table.searchColumn=n),placeholder:e.$t("common.select_default_text",[""])},{default:t(()=>[(o(!0),p(f,null,w(l.filterableColumns,n=>(o(),y(P,{key:n.key},{default:t(()=>[d(r(n.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),a(I,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":c[1]||(c[1]=n=>e.table.searchString=n),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(K,null,{default:t(()=>[a(M,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),a(g,null,{default:t(()=>[a(m,{span:24},{default:t(()=>[W("div",ce,[a(H,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:n=>({disabled:!((l.permsArray.includes("taxes_delete")||l.permsArray.includes("admin"))&&(!n.children||n.children.length==0)),name:n.xid})},columns:l.columns,"row-key":n=>n.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:t(({column:n,record:u})=>[n.dataIndex==="tax_type"?(o(),p(f,{key:0},[d(r(u.tax_type=="single"?e.$t("tax.single"):e.$t("tax.multiple")),1)],64)):_("",!0),n.dataIndex==="rate"?(o(),p(f,{key:1},[u.tax_type=="single"?(o(),p("span",ge,[a(g,{gutter:[16,16],style:{"margin-top":"10px"}},{default:t(()=>[a(m,{xs:24,sm:24,md:24,lg:24},{default:t(()=>[d(r(u.rate+"%"),1)]),_:2},1024)]),_:2},1024)])):(o(),p("span",fe,[(o(!0),p(f,null,w(u.multiple_tax,h=>(o(),y(g,{gutter:[16,16],key:h.xid,style:{"margin-top":"10px"}},{default:t(()=>[a(m,{xs:24,sm:24,md:24,lg:24,style:{"margin-top":"5px"}},{default:t(()=>[d(r(`${h.name}:  ${h.rate}%`),1)]),_:2},1024)]),_:2},1024))),128))]))],64)):_("",!0),n.dataIndex==="action"?(o(),p(f,{key:2},[l.permsArray.includes("taxes_edit")||l.permsArray.includes("admin")?(o(),y(C,{key:0,type:"primary",onClick:h=>e.editItem(u),style:{"margin-left":"4px"}},{icon:t(()=>[a(R)]),_:2},1032,["onClick"])):_("",!0),(l.permsArray.includes("taxes_delete")||l.permsArray.includes("admin"))&&(!u.children||u.children.length==0)?(o(),y(C,{key:1,type:"primary",onClick:h=>e.showDeleteConfirm(u.xid),style:{"margin-left":"4px"}},{icon:t(()=>[a(S)]),_:2},1032,["onClick"])):_("",!0)],64)):_("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const He=z(_e,[["render",ye]]);export{He as default};

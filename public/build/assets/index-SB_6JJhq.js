import{_ as z,R as H,az as j,aA as F,Y as G,b as L,E as q,r as s,o as d,c as C,a as n,w as a,G as v,h as J,l as m,t as c,i as _,k as p,M as Y,j as Q,ay as W,aB as X,aC as Z,q as x,B as ee,a0 as ne,aD as ae,aE as te,aF as oe,J as le,aG as se}from"./app-DOZnD-OU.js";import{A as de,f as ie}from"./AddEdit-BDHTif9w.js";import{c as re}from"./crud-DqOuXdBP.js";import{A as ue}from"./AdminPageHeader-B5Kay2LS.js";import{S as me}from"./StaffSidebar-CRNQ1VAk.js";import"./apiAdmin-DZWvg24a.js";import"./SaveOutlined-d4o4zTyv.js";import"./datatable-BPHWgXYc.js";import"./filter-Bu9dBJTo.js";import"./index-DrUOpbMf.js";import"./UserOutlined-B3VlmsbS.js";import"./ContainerOutlined-POU_w1sl.js";const ce={components:{PlusOutlined:H,EditOutlined:j,DeleteOutlined:F,AddEdit:de,AdminPageHeader:ue,StaffSidebar:me},setup(){const{t:e}=G(),{addEditUrl:i,initData:b,columns:t,filterableColumns:y}=ie(),l=re(),{permsArray:r}=L();return q(()=>{(r.value.includes("designations_edit")||r.value.includes("designations_delete")||r.value.includes("admin"))&&(t.value=[...t.value,{title:e("common.action"),dataIndex:"action"}]),l.tableUrl.value={url:"designations?fields=id,xid,name"},l.table.filterableColumns=y,l.fetch({page:1}),l.crudUrl.value=i,l.langKey.value="designation",l.initData.value={...b},l.formData.value={...b}}),{columns:t,...l,filterableColumns:y,permsArray:r}}},_e={class:"table-responsive"};function pe(e,i,b,t,y,l){const r=W,S=s("router-link"),h=X,E=Z,w=s("AdminPageHeader"),D=s("StaffSidebar"),u=x,O=s("PlusOutlined"),g=ee,k=s("DeleteOutlined"),T=ne,B=se,P=ae,U=te,V=oe,f=J,I=s("admin-page-filters"),M=s("AddEdit"),R=s("EditOutlined"),K=le,N=s("admin-page-table-content");return d(),C(v,null,[n(w,null,{header:a(()=>[n(r,{title:e.$t("menu.designations"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[n(E,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[n(h,null,{default:a(()=>[n(S,{to:{name:"admin.dashboard.index"}},{default:a(()=>[m(c(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),n(h,null,{default:a(()=>[m(c(e.$t("menu.hrm")),1)]),_:1}),n(h,null,{default:a(()=>[m(c(e.$t("menu.designations")),1)]),_:1})]),_:1})]),_:1}),n(f,null,{default:a(()=>[n(u,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[n(D)]),_:1}),n(u,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[n(I,null,{default:a(()=>[n(f,{gutter:[16,16]},{default:a(()=>[n(u,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[n(T,null,{default:a(()=>[t.permsArray.includes("designations_create")||t.permsArray.includes("admin")?(d(),_(g,{key:0,type:"primary",onClick:e.addItem},{default:a(()=>[n(O),m(" "+c(e.$t("designation.add")),1)]),_:1},8,["onClick"])):p("",!0),e.table.selectedRowKeys.length>0&&(t.permsArray.includes("designations_delete")||t.permsArray.includes("admin"))?(d(),_(g,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[n(k)]),default:a(()=>[m(" "+c(e.$t("common.delete")),1)]),_:1},8,["onClick"])):p("",!0)]),_:1})]),_:1}),n(u,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[n(f,{gutter:[16,16],justify:"end"},{default:a(()=>[n(u,{xs:24,sm:24,md:12,lg:12,xl:8},{default:a(()=>[n(V,{compact:""},{default:a(()=>[n(P,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":i[0]||(i[0]=o=>e.table.searchColumn=o),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(d(!0),C(v,null,Y(t.filterableColumns,o=>(d(),_(B,{key:o.key},{default:a(()=>[m(c(o.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),n(U,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":i[1]||(i[1]=o=>e.table.searchString=o),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),n(N,null,{default:a(()=>[n(M,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),n(f,null,{default:a(()=>[n(u,{span:24},{default:a(()=>[Q("div",_e,[n(K,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:o=>({disabled:!1,name:o.xid})},columns:t.columns,"row-key":o=>o.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:o,record:A})=>[o.dataIndex==="action"?(d(),C(v,{key:0},[t.permsArray.includes("designations_edit")||t.permsArray.includes("admin")?(d(),_(g,{key:0,type:"primary",onClick:$=>e.editItem(A),style:{"margin-left":"4px"}},{icon:a(()=>[n(R)]),_:2},1032,["onClick"])):p("",!0),t.permsArray.includes("designations_delete")||t.permsArray.includes("admin")?(d(),_(g,{key:1,type:"primary",onClick:$=>e.showDeleteConfirm(A.xid),style:{"margin-left":"4px"}},{icon:a(()=>[n(k)]),_:2},1032,["onClick"])):p("",!0)],64)):p("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const De=z(ce,[["render",pe]]);export{De as default};

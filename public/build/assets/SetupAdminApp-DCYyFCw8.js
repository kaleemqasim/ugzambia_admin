import{_ as q,R as W,az as L,aA as H,b as N,E as j,r as y,o as d,c as b,a as t,i as f,w as l,G as D,M as R,l as g,t as c,k as v,j as P,aG as Q,aD as Z,aE as ee,aF as ae,q as G,h as X,al as ie,B as J,J as te,aw as me,aH as ce,Y as pe,u as ne,f as U,I as _e,n as fe,K as ge,F as ye,d as he,aa as ve,cm as be,at as Se,cn as ke,bd as Ce,e as we,g as De,aX as Ae,m as Ee,C as Oe,X as Te,bL as Ue,bM as Fe,x as Me,a0 as ze,D as Pe}from"./app-CsgcGABr.js";import{c as le}from"./crud-BS6Ab46O.js";import{A as Ie,f as Be}from"./AddEdit-CeJUxVmL.js";import{O as Re}from"./OnlineStoreStatus-CXPtmiDA.js";import{A as Ve,f as qe}from"./AddEdit-Duisn7Uh.js";import{A as We,f as Le}from"./AddEdit-BiKhAaBK.js";import{r as He,C as Ne}from"./CreateMenuSetting-BXYamvjy.js";import{U as je}from"./Upload-DY8GX0--.js";import{a as Ge}from"./apiAdmin-CdX65gtg.js";import{C as Xe}from"./AddButton-B9Jz2dX1.js";import{W as Je}from"./AddButton-MpQJHqvk.js";import{F as Ke}from"./FormItemHeading-Xm5YVabv.js";import{S as re}from"./SaveOutlined-sGOueZ_q.js";import{S as Ye}from"./SettingOutlined-l6YIfnqF.js";import"./index-B6gPlpy2.js";import{H as Qe}from"./HomeOutlined-EJLnuo2W.js";import"./datatable-Bf82G7ZS.js";import"./filter-DjVKjPda.js";import"./_isIterateeCall-iY4pcDoY.js";const Ze={props:{showFilter:{default:!0}},emits:["addOrEditSuccess"],components:{PlusOutlined:W,EditOutlined:L,DeleteOutlined:H,AddEdit:Ie,OnlineStoreStatus:Re},setup(e,{emit:n}){const{permsArray:S,appSetting:a}=N(),{url:F,addEditUrl:A,initData:p,columns:m,filterableColumns:u}=Be(),r=le();return j(()=>{r.tableUrl.value={url:F},r.table.filterableColumns=u,r.fetch({page:1}),r.crudUrl.value=A,r.langKey.value="warehouse",r.initData.value={...p},r.formData.value={...p}}),{appSetting:a,permsArray:S,columns:m,...r,filterableColumns:u,addOrEditSuccess:i=>{r.addEditSuccess(i),n("addOrEditSuccess",{action_type:r.addEditType.value,xid:i})}}}},$e={class:"table-responsive"},xe=P("br",null,null,-1);function ea(e,n,S,a,F,A){const p=y("AddEdit"),m=Q,u=Z,r=ee,_=ae,i=G,h=X,E=ie,O=y("OnlineStoreStatus"),C=J,M=y("router-link"),s=y("EditOutlined"),w=y("DeleteOutlined"),z=te;return d(),b("div",null,[t(p,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:a.addOrEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),S.showFilter?(d(),f(h,{key:0,gutter:[15,15],class:"mb-20"},{default:l(()=>[t(i,{xs:24,sm:24,md:12,lg:8,xl:8},{default:l(()=>[t(_,{compact:""},{default:l(()=>[t(u,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":n[0]||(n[0]=k=>e.table.searchColumn=k),placeholder:e.$t("common.select_default_text",[""])},{default:l(()=>[(d(!0),b(D,null,R(a.filterableColumns,k=>(d(),f(m,{key:k.key},{default:l(()=>[g(c(k.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(r,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":n[1]||(n[1]=k=>e.table.searchString=k),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})):v("",!0),t(h,{class:"mt-20"},{default:l(()=>[t(i,{span:24},{default:l(()=>[P("div",$e,[t(z,{columns:a.columns,"row-key":k=>k.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange},{bodyCell:l(({column:k,record:o})=>[k.dataIndex==="logo"?(d(),f(E,{key:0,width:48,src:o.logo_url},null,8,["src"])):v("",!0),k.dataIndex==="online_store_enabled"?(d(),b(D,{key:1},[t(O,{status:o.online_store_enabled,x_warehouse_id:o.xid,onSuccess:e.fetch},null,8,["status","x_warehouse_id","onSuccess"]),o.online_store_enabled==1?(d(),b(D,{key:0},[xe,t(M,{to:{name:"front.homepage",params:{warehouse:o.slug}},target:"_blank"},{default:l(()=>[t(C,{type:"link",class:"p-0 mt-5"},{default:l(()=>[g(c(e.$t("warehouse.view_online_store")),1)]),_:1})]),_:2},1032,["to"])],64)):v("",!0)],64)):v("",!0),k.dataIndex==="action"?(d(),b(D,{key:2},[a.permsArray.includes("warehouses_edit")||a.permsArray.includes("admin")?(d(),f(C,{key:0,type:"primary",onClick:T=>e.editItem(o),style:{"margin-left":"4px"}},{icon:l(()=>[t(s)]),_:2},1032,["onClick"])):v("",!0),(a.permsArray.includes("warehouses_delete")||a.permsArray.includes("admin"))&&a.appSetting.x_warehouse_id!=o.xid?(d(),f(C,{key:1,type:"primary",onClick:T=>e.showDeleteConfirm(o.xid),style:{"margin-left":"4px"}},{icon:l(()=>[t(w)]),_:2},1032,["onClick"])):v("",!0)],64)):v("",!0)]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})])}const aa=q(Ze,[["render",ea]]),ta={props:{showFilter:{default:!0},panelType:{type:String,default:"admin"}},emits:["addOrEditSuccess"],components:{PlusOutlined:W,EditOutlined:L,DeleteOutlined:H,AddEdit:Ve},setup(e,{emit:n}){const{permsArray:S,appSetting:a}=N(),{url:F,addEditUrl:A,initData:p,columns:m,filterableColumns:u}=qe(e.panelType),r=le();return j(()=>{r.tableUrl.value={url:F},r.table.filterableColumns=u,r.fetch({page:1}),r.crudUrl.value=A,r.langKey.value="currency",r.initData.value={...p},r.formData.value={...p}}),{appSetting:a,permsArray:S,columns:m,...r,filterableColumns:u,addOrEditSuccess:i=>{r.addEditSuccess(i),n("addOrEditSuccess",{action_type:r.addEditType.value,xid:i})}}}},la={class:"table-responsive"};function oa(e,n,S,a,F,A){const p=y("AddEdit"),m=Q,u=Z,r=ee,_=ae,i=G,h=X,E=y("EditOutlined"),O=J,C=y("DeleteOutlined"),M=te;return d(),b("div",null,[t(p,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:a.addOrEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),S.showFilter?(d(),f(h,{key:0,gutter:[15,15],class:"mb-20"},{default:l(()=>[t(i,{xs:24,sm:24,md:12,lg:8,xl:8},{default:l(()=>[t(_,{compact:""},{default:l(()=>[t(u,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":n[0]||(n[0]=s=>e.table.searchColumn=s),placeholder:e.$t("common.select_default_text",[""])},{default:l(()=>[(d(!0),b(D,null,R(a.filterableColumns,s=>(d(),f(m,{key:s.key},{default:l(()=>[g(c(s.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(r,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":n[1]||(n[1]=s=>e.table.searchString=s),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})):v("",!0),t(h,{class:"mt-20"},{default:l(()=>[t(i,{span:24},{default:l(()=>[P("div",la,[t(M,{columns:a.columns,"row-key":s=>s.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange},{bodyCell:l(({column:s,record:w})=>[s.dataIndex==="action"?(d(),b(D,{key:0},[S.panelType=="admin"&&(a.permsArray.includes("currencies_edit")||a.permsArray.includes("admin"))||S.panelType=="superadmin"?(d(),f(O,{key:0,type:"primary",onClick:z=>e.editItem(w),style:{"margin-left":"4px"}},{icon:l(()=>[t(E)]),_:2},1032,["onClick"])):v("",!0),(S.panelType=="admin"&&(a.permsArray.includes("currencies_delete")||a.permsArray.includes("admin"))||S.panelType=="superadmin")&&a.appSetting.x_currency_id!=w.xid?(d(),f(O,{key:1,type:"primary",onClick:z=>e.showDeleteConfirm(w.xid),style:{"margin-left":"4px"}},{icon:l(()=>[t(C)]),_:2},1032,["onClick"])):v("",!0)],64)):v("",!0)]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})])}const na=q(ta,[["render",oa]]),ra={props:{showFilter:{default:!0}},emits:["addOrEditSuccess"],components:{PlusOutlined:W,EditOutlined:L,DeleteOutlined:H,AddEdit:We},setup(e,{emit:n}){const{permsArray:S}=N(),{url:a,addEditUrl:F,initData:A,columns:p,filterableColumns:m}=Le(),u=le();return j(()=>{u.tableUrl.value={url:a},u.table.filterableColumns=m,u.fetch({page:1}),u.crudUrl.value=F,u.langKey.value="payment_mode",u.initData.value={...A},u.formData.value={...A}}),{permsArray:S,columns:p,...u,filterableColumns:m,addOrEditSuccess:_=>{u.addEditSuccess(_),n("addOrEditSuccess",{action_type:u.addEditType.value,xid:_})}}}},sa={class:"table-responsive"},da={key:0},ua={key:1};function ia(e,n,S,a,F,A){const p=y("AddEdit"),m=Q,u=Z,r=ee,_=ae,i=G,h=X,E=y("EditOutlined"),O=J,C=y("DeleteOutlined"),M=te;return d(),b("div",null,[t(p,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:a.addOrEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),S.showFilter?(d(),f(h,{key:0,gutter:[15,15],class:"mb-20"},{default:l(()=>[t(i,{xs:24,sm:24,md:12,lg:8,xl:8},{default:l(()=>[t(_,{compact:""},{default:l(()=>[t(u,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":n[0]||(n[0]=s=>e.table.searchColumn=s),placeholder:e.$t("common.select_default_text",[""])},{default:l(()=>[(d(!0),b(D,null,R(a.filterableColumns,s=>(d(),f(m,{key:s.key},{default:l(()=>[g(c(s.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),t(r,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":n[1]||(n[1]=s=>e.table.searchString=s),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})):v("",!0),t(h,{class:"mt-20"},{default:l(()=>[t(i,{span:24},{default:l(()=>[P("div",sa,[t(M,{columns:a.columns,"row-key":s=>s.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange},{bodyCell:l(({column:s,record:w})=>[s.dataIndex==="action"?(d(),b(D,{key:0},[w.name.toLowerCase()!="cash"?(d(),b("span",da,[a.permsArray.includes("payment_modes_edit")||a.permsArray.includes("admin")?(d(),f(O,{key:0,type:"primary",onClick:z=>e.editItem(w),style:{"margin-left":"4px"}},{icon:l(()=>[t(E)]),_:2},1032,["onClick"])):v("",!0),a.permsArray.includes("payment_modes_delete")||a.permsArray.includes("admin")?(d(),f(O,{key:1,type:"primary",onClick:z=>e.showDeleteConfirm(w.xid),style:{"margin-left":"4px"}},{icon:l(()=>[t(C)]),_:2},1032,["onClick"])):v("",!0)])):(d(),b("span",ua," - "))],64)):v("",!0)]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})])}const ma=q(ra,[["render",ia]]),ca={props:{showSubmitButton:{default:!0}},emits:["updateSuccess"],components:{EyeOutlined:me,PlusOutlined:W,EditOutlined:L,DeleteOutlined:H,ExclamationCircleOutlined:ce,SaveOutlined:re,SettingOutlined:Ye,ColorPicker:He,Upload:je,CurrencyAddButton:Xe,WarehouseAddButton:Je,CreateMenuSetting:Ne,FormItemHeading:Ke},setup(e,{emit:n}){const{addEditRequestAdmin:S,loading:a,rules:F}=Ge(),{permsArray:A,appSetting:p,dayjsObject:m,appType:u}=N(),{t:r}=pe(),_=ne(),i=U({}),h=U([]),E=U([]),O=U([]),C=U([]),M=U([]),s=p.value,w="currencies?limit=10000",z="warehouses?limit=10000",k="timezones",o=U("linear-gradient(0deg, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 1) 100%)"),T=window.config.theme_mode;j(()=>{const B=axiosAdmin.get(z),$=axiosAdmin.get(w),se=axiosAdmin.get(k);Promise.all([B,$,se]).then(([de,ue,x])=>{E.value=de.data,h.value=ue.data,O.value=x.data.timezones,C.value=x.data.date_formates,M.value=x.data.time_formates,V()})});const V=()=>{i.value={name:s.name,short_name:s.short_name,email:s.email,phone:s.phone,address:s.address,left_sidebar_theme:s.left_sidebar_theme,dark_logo:s.dark_logo,dark_logo_url:s.dark_logo_url,light_logo:s.light_logo,light_logo_url:s.light_logo_url,small_dark_logo:s.small_dark_logo,small_light_logo:s.small_light_logo,small_dark_logo_url:s.small_dark_logo_url,small_light_logo_url:s.small_light_logo_url,login_image:s.login_image,login_image_url:s.login_image_url,shortcut_menus:s.shortcut_menus,rtl:s.rtl,currency_id:s.x_currency_id,warehouse_id:s.x_warehouse_id,primary_color:s.primary_color,timezone:s.timezone,date_format:s.date_format,time_format:s.time_format,auto_detect_timezone:s.auto_detect_timezone,app_debug:s.app_debug,update_app_notification:s.update_app_notification,_method:"PUT"}};return{appType:u,permsArray:A,formData:i,loading:a,rules:F,warehouses:E,currencies:h,onSubmit:()=>{S({url:`companies/${s.xid}`,data:i.value,successMessage:r("company.updated"),success:B=>{_.dispatch("auth/updateApp"),n("updateSuccess")}})},currencyAdded:()=>{axiosAdmin.get(w).then(B=>{h.value=B.data})},warehouseAdded:()=>{axiosAdmin.get(z).then(B=>{E.value=B.data})},gradientColor:o,timezones:O,dateFormats:C,timeFormats:M,dayjsObject:m,appThemeMode:T,addMenuSettingUpdated:B=>{i.value.shortcut_menus=B}}}},pa={class:"mt-40"},_a={style:{display:"flex"}},fa={style:{display:"flex"}},ga={class:"mt-30"},ya={class:"mt-30"};function ha(e,n,S,a,F,A){const p=y("FormItemHeading"),m=_e,u=fe,r=G,_=X,i=Q,h=Z,E=y("CurrencyAddButton"),O=y("WarehouseAddButton"),C=ge,M=y("color-picker"),s=y("Upload"),w=y("SaveOutlined"),z=J,k=ye;return d(),f(k,{layout:"vertical"},{default:l(()=>[P("div",pa,[t(p,null,{default:l(()=>[g(c(e.$t("setup_company.basic_settings")),1)]),_:1})]),t(_,{gutter:16},{default:l(()=>[t(r,{xs:24,sm:24,md:12,lg:12},{default:l(()=>[t(u,{label:e.$t("company.name"),name:"name",help:a.rules.name?a.rules.name.message:null,validateStatus:a.rules.name?"error":null,class:"required"},{default:l(()=>[t(m,{value:a.formData.name,"onUpdate:value":n[0]||(n[0]=o=>a.formData.name=o),placeholder:e.$t("common.placeholder_default_text",[e.$t("company.name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(r,{xs:24,sm:24,md:12,lg:12},{default:l(()=>[t(u,{label:e.$t("company.short_name"),name:"short_name",help:a.rules.short_name?a.rules.short_name.message:null,validateStatus:a.rules.short_name?"error":null,class:"required"},{default:l(()=>[t(m,{value:a.formData.short_name,"onUpdate:value":n[1]||(n[1]=o=>a.formData.short_name=o),placeholder:e.$t("common.placeholder_default_text",[e.$t("company.short_name")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:l(()=>[t(r,{xs:24,sm:24,md:12,lg:12},{default:l(()=>[t(u,{label:e.$t("company.email"),name:"email",help:a.rules.email?a.rules.email.message:null,validateStatus:a.rules.email?"error":null,class:"required"},{default:l(()=>[t(m,{value:a.formData.email,"onUpdate:value":n[2]||(n[2]=o=>a.formData.email=o),placeholder:e.$t("common.placeholder_default_text",[e.$t("company.email")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(r,{xs:24,sm:24,md:12,lg:12},{default:l(()=>[t(u,{label:e.$t("company.phone"),name:"phone",help:a.rules.phone?a.rules.phone.message:null,validateStatus:a.rules.phone?"error":null,class:"required"},{default:l(()=>[t(m,{value:a.formData.phone,"onUpdate:value":n[3]||(n[3]=o=>a.formData.phone=o),placeholder:e.$t("common.placeholder_default_text",[e.$t("company.phone")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:l(()=>[t(r,{xs:24,sm:24,md:12,lg:12},{default:l(()=>[t(u,{label:e.$t("company.date_format"),name:"date_format",help:a.rules.date_format?a.rules.date_format.message:null,validateStatus:a.rules.date_format?"error":null,class:"required"},{default:l(()=>[t(h,{value:a.formData.date_format,"onUpdate:value":n[4]||(n[4]=o=>a.formData.date_format=o),placeholder:e.$t("common.select_default_text",[e.$t("company.date_format")]),allowClear:!0,optionFilterProp:"value","show-search":""},{default:l(()=>[(d(!0),b(D,null,R(a.dateFormats,(o,T)=>(d(),f(i,{key:T,value:o},{default:l(()=>[g(c(`(${T}) => `+a.dayjsObject().format(o)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(r,{xs:24,sm:24,md:12,lg:12},{default:l(()=>[t(u,{label:e.$t("company.time_format"),name:"time_format",help:a.rules.time_format?a.rules.time_format.message:null,validateStatus:a.rules.time_format?"error":null,class:"required"},{default:l(()=>[t(h,{value:a.formData.time_format,"onUpdate:value":n[5]||(n[5]=o=>a.formData.time_format=o),placeholder:e.$t("common.select_default_text",[e.$t("company.time_format")]),allowClear:!0,optionFilterProp:"value","show-search":""},{default:l(()=>[(d(!0),b(D,null,R(a.timeFormats,(o,T)=>(d(),f(i,{key:T,value:T},{default:l(()=>[g(c(`(${o}) => `+a.dayjsObject().format(T)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:l(()=>[t(r,{xs:24,sm:24,md:12,lg:12},{default:l(()=>[t(u,{label:e.$t("company.currency"),name:"currency_id",help:a.rules.currency_id?a.rules.currency_id.message:null,validateStatus:a.rules.currency_id?"error":null,class:"required"},{default:l(()=>[P("span",_a,[t(h,{value:a.formData.currency_id,"onUpdate:value":n[6]||(n[6]=o=>a.formData.currency_id=o),placeholder:e.$t("common.select_default_text",[e.$t("company.currency")]),allowClear:!0,optionFilterProp:"label","show-search":""},{default:l(()=>[(d(!0),b(D,null,R(a.currencies,o=>(d(),f(i,{key:o.xid,value:o.xid},{default:l(()=>[g(c(`${o.name} (${o.symbol})`),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"]),t(E,{onOnAddSuccess:a.currencyAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(r,{xs:24,sm:24,md:12,lg:12},{default:l(()=>[t(u,{label:e.$t("warehouse.warehouse"),name:"warehouse_id",help:a.rules.warehouse_id?a.rules.warehouse_id.message:null,validateStatus:a.rules.warehouse_id?"error":null,class:"required"},{default:l(()=>[P("span",fa,[t(h,{value:a.formData.warehouse_id,"onUpdate:value":n[7]||(n[7]=o=>a.formData.warehouse_id=o),placeholder:e.$t("common.select_default_text",[e.$t("warehouse.warehouse")]),allowClear:!0,optionFilterProp:"label","show-search":""},{default:l(()=>[(d(!0),b(D,null,R(a.warehouses,o=>(d(),f(i,{key:o.xid,value:o.xid,label:o.name},{default:l(()=>[g(c(o.name),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["value","placeholder"]),t(O,{onOnAddSuccess:a.warehouseAdded},null,8,["onOnAddSuccess"])])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:l(()=>[t(r,{xs:24,sm:24,md:4,lg:4},{default:l(()=>[t(u,{label:e.$t("company.auto_detect_timezone"),name:"auto_detect_timezone",help:a.rules.auto_detect_timezone?a.rules.auto_detect_timezone.message:null,validateStatus:a.rules.auto_detect_timezone?"error":null},{default:l(()=>[t(C,{checked:a.formData.auto_detect_timezone,"onUpdate:checked":n[8]||(n[8]=o=>a.formData.auto_detect_timezone=o),checkedValue:1,unCheckedValue:0},null,8,["checked"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(r,{xs:24,sm:24,md:8,lg:8},{default:l(()=>[t(u,{label:e.$t("company.default_timezone"),name:"timezone",help:a.rules.timezone?a.rules.timezone.message:null,validateStatus:a.rules.timezone?"error":null,class:"required"},{default:l(()=>[t(h,{value:a.formData.timezone,"onUpdate:value":n[9]||(n[9]=o=>a.formData.timezone=o),placeholder:e.$t("common.select_default_text",[e.$t("company.default_timezone")]),allowClear:!0,optionFilterProp:"value","show-search":""},{default:l(()=>[(d(!0),b(D,null,R(a.timezones,(o,T)=>(d(),f(i,{key:T,value:o},{default:l(()=>[g(c(o),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),a.appType=="non-saas"?(d(),f(r,{key:0,xs:24,sm:24,md:4,lg:4},{default:l(()=>[t(u,{label:e.$t("company.app_debug"),name:"app_debug",help:a.rules.app_debug?a.rules.app_debug.message:null,validateStatus:a.rules.app_debug?"error":null},{default:l(()=>[t(C,{checked:a.formData.app_debug,"onUpdate:checked":n[10]||(n[10]=o=>a.formData.app_debug=o),checkedValue:1,unCheckedValue:0},null,8,["checked"])]),_:1},8,["label","help","validateStatus"])]),_:1})):v("",!0),a.appType=="non-saas"?(d(),f(r,{key:1,xs:24,sm:24,md:4,lg:4},{default:l(()=>[t(u,{label:e.$t("company.update_app_notification"),name:"update_app_notification",help:a.rules.update_app_notification?a.rules.update_app_notification.message:null,validateStatus:a.rules.update_app_notification?"error":null},{default:l(()=>[t(C,{checked:a.formData.update_app_notification,"onUpdate:checked":n[11]||(n[11]=o=>a.formData.update_app_notification=o),checkedValue:1,unCheckedValue:0},null,8,["checked"])]),_:1},8,["label","help","validateStatus"])]),_:1})):v("",!0)]),_:1}),P("div",ga,[t(p,null,{default:l(()=>[g(c(e.$t("setup_company.theme_settings")),1)]),_:1})]),t(_,{gutter:16},{default:l(()=>[t(r,{xs:24,sm:24,md:12,lg:12},{default:l(()=>[t(u,{label:e.$t("company.left_sidebar_theme"),name:"left_sidebar_theme",help:a.rules.left_sidebar_theme?a.rules.left_sidebar_theme.message:null,validateStatus:a.rules.left_sidebar_theme?"error":null},{default:l(()=>[t(h,{value:a.formData.left_sidebar_theme,"onUpdate:value":n[12]||(n[12]=o=>a.formData.left_sidebar_theme=o),placeholder:e.$t("common.select_default_text",[e.$t("company.left_sidebar_theme")])},{default:l(()=>[t(i,{key:"dark",value:"dark"},{default:l(()=>[g(c(e.$t("company.dark")),1)]),_:1}),a.appThemeMode!="dark"?(d(),f(i,{key:"light",value:"light"},{default:l(()=>[g(c(e.$t("company.light")),1)]),_:1})):v("",!0)]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(r,{xs:24,sm:24,md:12,lg:12},{default:l(()=>[t(u,{label:e.$t("company.primary_color"),name:"primary_color",help:a.rules.primary_color?a.rules.primary_color.message:null,validateStatus:a.rules.primary_color?"error":null},{default:l(()=>[t(M,{pureColor:a.formData.primary_color,"onUpdate:pureColor":n[13]||(n[13]=o=>a.formData.primary_color=o),format:"hex",useType:"pure",gradientColor:a.gradientColor,"onUpdate:gradientColor":n[14]||(n[14]=o=>a.gradientColor=o)},null,8,["pureColor","gradientColor"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),t(_,{gutter:16},{default:l(()=>[t(r,{xs:24,sm:24,md:12,lg:12},{default:l(()=>[t(u,{label:e.$t("company.layout"),name:"rtl",help:a.rules.rtl?a.rules.rtl.message:null,validateStatus:a.rules.rtl?"error":null,class:"required"},{default:l(()=>[t(h,{value:a.formData.rtl,"onUpdate:value":n[15]||(n[15]=o=>a.formData.rtl=o),placeholder:e.$t("common.select_default_text",[e.$t("company.layout")]),allowClear:!0,optionFilterProp:"label","show-search":""},{default:l(()=>[t(i,{key:"rtl",value:1},{default:l(()=>[g(c(e.$t("company.rtl")),1)]),_:1}),t(i,{key:"ltr",value:0},{default:l(()=>[g(c(e.$t("company.ltr")),1)]),_:1})]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(r,{xs:24,sm:24,md:12,lg:12},{default:l(()=>[t(u,{label:e.$t("company.shortcut_menu_Placement"),name:"shortcut_menus",help:a.rules.shortcut_menus?a.rules.shortcut_menus.message:null,validateStatus:a.rules.shortcut_menus?"error":null,class:"required"},{default:l(()=>[t(h,{value:a.formData.shortcut_menus,"onUpdate:value":n[16]||(n[16]=o=>a.formData.shortcut_menus=o),placeholder:e.$t("common.select_default_text",[e.$t("company.shortcut_menu_Placement")]),allowClear:!0,optionFilterProp:"label","show-search":""},{default:l(()=>[t(i,{key:"top_bottom",value:"top_bottom"},{default:l(()=>[g(c(e.$t("company.top_and_bottom")),1)]),_:1}),t(i,{key:"top",value:"top"},{default:l(()=>[g(c(e.$t("company.top_header")),1)]),_:1}),t(i,{key:"bottom",value:"bottom"},{default:l(()=>[g(c(e.$t("company.bottom_corner")),1)]),_:1})]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),P("div",ya,[t(p,null,{default:l(()=>[g(c(e.$t("setup_company.logo_settings")),1)]),_:1})]),t(_,{gutter:16},{default:l(()=>[t(r,{xs:24,sm:24,md:6,lg:6},{default:l(()=>[t(u,{label:e.$t("company.dark_logo"),name:"dark_logo",help:a.rules.dark_logo?a.rules.dark_logo.message:null,validateStatus:a.rules.dark_logo?"error":null},{default:l(()=>[t(s,{formData:a.formData,folder:"company",imageField:"dark_logo",onOnFileUploaded:n[17]||(n[17]=o=>{a.formData.dark_logo=o.file,a.formData.dark_logo_url=o.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(r,{xs:24,sm:24,md:6,lg:6},{default:l(()=>[t(u,{label:e.$t("company.light_logo"),name:"light_logo",help:a.rules.light_logo?a.rules.light_logo.message:null,validateStatus:a.rules.light_logo?"error":null},{default:l(()=>[t(s,{formData:a.formData,folder:"company",imageField:"light_logo",onOnFileUploaded:n[18]||(n[18]=o=>{a.formData.light_logo=o.file,a.formData.light_logo_url=o.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(r,{xs:24,sm:24,md:6,lg:6},{default:l(()=>[t(u,{label:e.$t("company.small_dark_logo"),name:"small_dark_logo",help:a.rules.small_dark_logo?a.rules.small_dark_logo.message:null,validateStatus:a.rules.small_dark_logo?"error":null},{default:l(()=>[t(s,{formData:a.formData,folder:"company",imageField:"small_dark_logo",onOnFileUploaded:n[19]||(n[19]=o=>{a.formData.small_dark_logo=o.file,a.formData.small_dark_logo_url=o.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1}),t(r,{xs:24,sm:24,md:6,lg:6},{default:l(()=>[t(u,{label:e.$t("company.small_light_logo"),name:"small_light_logo",help:a.rules.small_light_logo?a.rules.small_light_logo.message:null,validateStatus:a.rules.small_light_logo?"error":null},{default:l(()=>[t(s,{formData:a.formData,folder:"company",imageField:"small_light_logo",onOnFileUploaded:n[20]||(n[20]=o=>{a.formData.small_light_logo=o.file,a.formData.small_light_logo_url=o.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),a.appType=="non-saas"?(d(),f(_,{key:0,gutter:16},{default:l(()=>[t(r,{xs:24,sm:24,md:6,lg:6},{default:l(()=>[t(u,{label:e.$t("company.login_image"),name:"login_image",help:a.rules.login_image?a.rules.login_image.message:null,validateStatus:a.rules.login_image?"error":null},{default:l(()=>[t(s,{formData:a.formData,folder:"company",imageField:"login_image",onOnFileUploaded:n[21]||(n[21]=o=>{a.formData.login_image=o.file,a.formData.login_image_url=o.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})):v("",!0),S.showSubmitButton?(d(),f(_,{key:1,gutter:16},{default:l(()=>[t(r,{xs:24,sm:24,md:24,lg:24},{default:l(()=>[t(u,null,{default:l(()=>[t(z,{type:"primary",onClick:a.onSubmit,loading:a.loading},{icon:l(()=>[t(w)]),default:l(()=>[g(" "+c(e.$t("common.update")),1)]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1})):v("",!0)]),_:1})}const va=q(ca,[["render",ha]]),ba=he({components:{PlusOutlined:W,EditOutlined:L,DeleteOutlined:H,DoubleRightOutlined:ve,DoubleLeftOutlined:be,SaveOutlined:re,SyncOutlined:Se,CheckCircleOutlined:ke,HomeOutlined:Qe,InfoCircleOutlined:Ce,WarehouseTable:aa,CurrencyTable:na,PaymentModeTable:ma,EditSetupSetting:va},setup(){N();const e=we(),n=ne(),S=U(null),a=U(null),F=U(null),A=U(null),p=U([]),m=U(0),u=U(0),r=De({warehouseStepStatus:"wait",currencyStepStatus:"wait",paymentModeStepStatus:"wait",companySettingStepStatus:"wait"}),_=U(!1),i=U(!1);j(()=>{h()});const h=()=>{axiosAdmin.get("app").then(I=>{p.value=I.data,r.warehouseStepStatus=p.value.total_warehouses>0?"finish":"wait",r.currencyStepStatus=p.value.total_currencies>0?"finish":"wait",r.paymentModeStepStatus=p.value.total_payment_modes>0?"finish":"wait",r.companySettingStepStatus=E()==!1?"finish":"wait",p.value.total_warehouses==0?(m.value=0,u.value=0,r.warehouseStepStatus="error"):p.value.total_currencies==0?(m.value=1,u.value=1,r.currencyStepStatus="error"):p.value.total_payment_modes==0?(m.value=2,u.value=2,r.paymentModeStepStatus="error"):E()?(m.value=3,u.value=3,r.companySettingStepStatus="error"):(m.value=3,u.value=3,i.value=!0,_.value=!0)})},E=()=>p.value.app.x_warehouse_id==null||p.value.app.x_currency_id==null,O=()=>{S.value.addItem()},C=I=>{h()},M=()=>{a.value.addItem()},s=I=>{h()},w=()=>{F.value.addItem()},z=I=>{h()},k=()=>{A.value.onSubmit()},o=()=>{_.value=!0,axiosAdmin.post("/user").then(function(I){n.commit("auth/updateUser",I.data.user),axiosAdmin.post("change-warehouse",{warehouse_id:I.data.user.x_warehouse_id}).then(Y=>{n.commit("auth/updateWarehouse",Y.data.warehouse),i.value=!0})}).catch(function(I){})},T=()=>{_.value=!1,e.push({name:"admin.dashboard.index"})},V=()=>{m.value=m.value==0?0:m.value-1},K=()=>{m.value=m.value>=3?3:m.value+1};return{appDetails:p,currentStep:m,correctStep:u,...Ae(r),warhouseTableRef:S,addWarehouse:O,warehouseAddSuccess:C,currencyTableRef:a,addCurrency:M,currencyAddSuccess:s,paymentModeTableRef:F,addPaymentMode:w,paymentModeAddSuccess:z,companySettingRef:A,submitCompanySetting:k,companySettingUpdated:o,showFinalModal:_,setupCompleted:i,goToDashboard:T,goBack:V,goNext:K}}}),Sa={style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"left",zIndex:1,marginBottom:"10px"}},ka={key:0,style:{color:"#7676e3"}},Ca={key:1,style:{color:"#7676e3"}};function wa(e,n,S,a,F,A){const p=Ee,m=Ue,u=Fe,r=Me,_=y("PlusOutlined"),i=J,h=y("WarehouseTable"),E=y("CurrencyTable"),O=y("PaymentModeTable"),C=y("EditSetupSetting"),M=G,s=X,w=Oe,z=y("DoubleLeftOutlined"),k=y("DoubleRightOutlined"),o=y("SaveOutlined"),T=ze,V=y("CheckCircleOutlined"),K=y("InfoCircleOutlined"),I=y("HomeOutlined"),Y=y("SyncOutlined"),oe=Pe,B=Te;return d(),b(D,null,[t(p,{message:e.$t("setup_company.setup_not_completed"),description:e.$t("setup_company.setup_not_completed_description"),type:"error","show-icon":""},null,8,["message","description"]),t(w,{class:"setup-page-content-container"},{default:l(()=>[t(s,{class:"mt-40"},{default:l(()=>[t(M,{span:20,offset:1},{default:l(()=>[t(u,{current:e.currentStep},{default:l(()=>[t(m,{status:e.warehouseStepStatus},{title:l(()=>[g(c(e.$t("setup_company.warehouse")),1)]),description:l(()=>[P("span",null,c(e.$t("setup_company.add_first_warehouse")),1)]),_:1},8,["status"]),t(m,{status:e.currencyStepStatus},{title:l(()=>[g(c(e.$t("setup_company.currency")),1)]),description:l(()=>[P("span",null,c(e.$t("setup_company.add_first_currency")),1)]),_:1},8,["status"]),t(m,{status:e.paymentModeStepStatus},{title:l(()=>[g(c(e.$t("setup_company.payment_mode")),1)]),description:l(()=>[P("span",null,c(e.$t("setup_company.add_payment_mode")),1)]),_:1},8,["status"]),t(m,{status:e.companySettingStepStatus},{title:l(()=>[g(c(e.$t("setup_company.company_settings")),1)]),description:l(()=>[P("span",null,c(e.$t("setup_company.set_company_basic_settings")),1)]),_:1},8,["status"])]),_:1},8,["current"]),t(r),e.appDetails&&e.appDetails.app&&e.appDetails.app.name?(d(),b(D,{key:0},[e.currentStep==0?(d(),b(D,{key:0},[t(i,{type:"primary",onClick:e.addWarehouse},{default:l(()=>[t(_),g(" "+c(e.$t("warehouse.add")),1)]),_:1},8,["onClick"]),t(h,{class:"mb-40",ref:"warhouseTableRef",showFilter:!1,onAddOrEditSuccess:e.warehouseAddSuccess},null,8,["onAddOrEditSuccess"])],64)):v("",!0),e.currentStep==1?(d(),b(D,{key:1},[t(i,{type:"primary",onClick:e.addCurrency},{default:l(()=>[t(_),g(" "+c(e.$t("currency.add")),1)]),_:1},8,["onClick"]),t(E,{class:"mb-40",ref:"currencyTableRef",showFilter:!1,onAddOrEditSuccess:e.currencyAddSuccess},null,8,["onAddOrEditSuccess"])],64)):v("",!0),e.currentStep==2?(d(),b(D,{key:2},[t(i,{type:"primary",onClick:e.addPaymentMode},{default:l(()=>[t(_),g(" "+c(e.$t("payment_mode.add")),1)]),_:1},8,["onClick"]),t(O,{class:"mb-40",ref:"paymentModeTableRef",showFilter:!1,onAddOrEditSuccess:e.paymentModeAddSuccess},null,8,["onAddOrEditSuccess"])],64)):v("",!0),e.currentStep==3?(d(),f(C,{key:3,class:"mb-40",ref:"companySettingRef",showSubmitButton:!1,onUpdateSuccess:e.companySettingUpdated},null,8,["onUpdateSuccess"])):v("",!0)],64)):v("",!0)]),_:1})]),_:1})]),_:1}),t(s,null,{default:l(()=>[t(M,{span:20,offset:1},{default:l(()=>[P("div",Sa,[t(T,null,{default:l(()=>[e.currentStep>=1&&e.currentStep!=3?(d(),f(i,{key:0,type:"primary",style:{backgroundColor:"#faad14",border:"#faad14"},onClick:e.goBack},{default:l(()=>[t(z),g(" "+c(e.$t("setup_company.previous_step")),1)]),_:1},8,["onClick"])):v("",!0),e.currentStep<3?(d(),f(i,{key:1,type:"primary",onClick:e.goNext,disabled:e.currentStep>=e.correctStep},{default:l(()=>[g(c(e.$t("setup_company.next_step"))+" ",1),t(k)]),_:1},8,["onClick","disabled"])):v("",!0),e.currentStep==3&&e.companySettingRef?(d(),f(i,{key:2,type:"primary",style:{backgroundColor:"#52c41a",border:"#52c41a"},onClick:e.submitCompanySetting,loading:e.companySettingRef.loading},{default:l(()=>[t(o),g(" "+c(e.$t("setup_company.save_finish_setup")),1)]),_:1},8,["onClick","loading"])):v("",!0)]),_:1})])]),_:1})]),_:1}),t(B,{open:e.showFinalModal,"onUpdate:open":n[0]||(n[0]=$=>e.showFinalModal=$),maskClosable:!1,closable:!1,footer:null,centered:""},{default:l(()=>[t(oe,null,{title:l(()=>[e.setupCompleted?(d(),b("span",ka,c(e.$t("setup_company.setup_complete_message")),1)):(d(),b("span",Ca,c(e.$t("setup_company.setup_running_message")),1))]),icon:l(()=>[e.setupCompleted?(d(),f(V,{key:0})):(d(),f(K,{key:1}))]),extra:l(()=>[e.setupCompleted?(d(),f(i,{key:0,type:"primary",style:{backgroundColor:"#52c41a",border:"#52c41a"},onClick:e.goToDashboard},{default:l(()=>[t(I),g(" "+c(e.$t("setup_company.go_to_dashboard")),1)]),_:1},8,["onClick"])):(d(),f(Y,{key:1,style:{fontSize:"38px",color:"#5254cf"},spin:""}))]),_:1})]),_:1},8,["open"])],64)}const ja=q(ba,[["render",wa]]);export{ja as default};

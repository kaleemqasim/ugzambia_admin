import{Y as V,_ as z,d as W,R as M,aT as N,bw as j,aw as G,u as Y,b as L,f as H,g as P,r as g,o as C,i as T,w as l,a,l as r,t as i,j as $,s as v,c as J,M as Q,G as X,I as Z,n as x,q as ee,h as ae,K as le,b5 as oe,bj as se,an as te,bu as ue,bv as ne,aG as ie,aD as re,bx as de,ao as me,F as _e,B as pe,ap as fe}from"./app-ZlbIjQHU.js";import{a as ve}from"./apiAdmin-BKuLh8fu.js";import{U as he}from"./Upload-DZZRvuS0.js";import{S as ge}from"./SaveOutlined-ZsJ2n4-K.js";import{S as we}from"./SettingOutlined-C8BbkFjN.js";const Ue=()=>{const e="warehouses",s="warehouses?fields=id,xid,company_id,x_company_id,logo,logo_url,dark_logo,dark_logo_url,name,slug,email,phone,address,show_email_on_invoice,show_phone_on_invoice,show_mrp_on_invoice,show_discount_tax_on_invoice,terms_condition,bank_details,signature,signature_url,online_store_enabled,default_pos_order_status,customers_visibility,suppliers_visibility,products_visibility,barcode_type",{t:d}=V(),w={name:"",slug:"",email:"",phone:"",logo:void 0,logo_url:void 0,dark_logo:void 0,dark_logo_url:void 0,show_email_on_invoice:0,show_phone_on_invoice:0,show_mrp_on_invoice:1,show_discount_tax_on_invoice:1,address:"",terms_condition:`1. Goods once sold will not be taken back or exchanged
2. All disputes are subject to [ENTER_YOUR_CITY_NAME] jurisdiction only`,bank_details:"",signature:void 0,signature_url:void 0,default_pos_order_status:"delivered",customers_visibility:"all",suppliers_visibility:"all",products_visibility:"all",barcode_type:"barcode"},b=[{title:d("warehouse.logo"),dataIndex:"logo"},{title:d("warehouse.name"),dataIndex:"name",sorter:!0},{title:d("warehouse.email"),dataIndex:"email",sorter:!0},{title:d("warehouse.phone"),dataIndex:"phone"},{title:d("warehouse.online_store"),dataIndex:"online_store_enabled"},{title:d("common.action"),dataIndex:"action"}],_=[{key:"name",value:d("warehouse.name")},{key:"email",value:d("warehouse.email")},{key:"phone",value:d("warehouse.phone")}];return{url:s,addEditUrl:e,initData:w,columns:b,filterableColumns:_}},be=W({props:["formData","data","visible","url","addEditType","pageTitle","successMessage"],emits:["addEditSuccess"],components:{PlusOutlined:M,LoadingOutlined:N,SaveOutlined:ge,FileTextOutlined:j,EyeOutlined:G,SettingOutlined:we,Upload:he},setup(e,{emit:s}){const d=Y(),{addEditRequestAdmin:w,loading:b,rules:_}=ve(),{slugify:D,salesOrderStatus:p,selectedWarehouse:u}=L(),t=H("basic_details"),n=P({display:"flex",height:"30px",lineHeight:"30px"});return{loading:b,rules:_,onClose:()=>{t.value="basic_details",_.value={},s("closed")},onSubmit:()=>{w({url:e.url,data:e.formData,successMessage:e.successMessage,success:m=>{d.dispatch("auth/updateAllWarehouses"),u.value&&u.value.xid&&u.value.xid==m.xid&&axiosAdmin.post("change-warehouse",{warehouse_id:m.xid}).then(c=>{d.commit("auth/updateWarehouse",c.data.warehouse)}),s("addEditSuccess",m.xid),t.value="basic_details",_.value={}}})},slugify:D,activeKey:t,salesOrderStatus:p,radioStyle:n,drawerWidth:window.innerWidth<=991?"90%":"45%"}}});function ye(e,s,d,w,b,_){const D=g("FileTextOutlined"),p=Z,u=x,t=ee,n=ae,k=le,y=g("Upload"),m=oe,c=se,U=te,R=g("EyeOutlined"),f=ue,h=ne,q=g("SettingOutlined"),O=ie,E=re,S=de,I=me,A=_e,K=g("SaveOutlined"),F=pe,B=fe;return C(),T(B,{title:e.pageTitle,width:e.drawerWidth,open:e.visible,"body-style":{paddingBottom:"80px"},"footer-style":{textAlign:"right"},maskClosable:!1,onClose:e.onClose},{footer:l(()=>[a(F,{type:"primary",onClick:e.onSubmit,style:{"margin-right":"8px"},loading:e.loading},{icon:l(()=>[a(K)]),default:l(()=>[r(" "+i(e.addEditType=="add"?e.$t("common.create"):e.$t("common.update")),1)]),_:1},8,["onClick","loading"]),a(F,{onClick:e.onClose},{default:l(()=>[r(i(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:l(()=>[a(A,{layout:"vertical"},{default:l(()=>[a(I,{activeKey:e.activeKey,"onUpdate:activeKey":s[20]||(s[20]=o=>e.activeKey=o)},{default:l(()=>[a(U,{key:"basic_details"},{tab:l(()=>[$("span",null,[a(D),r(" "+i(e.$t("warehouse.basic_details")),1)])]),default:l(()=>[a(n,{gutter:16},{default:l(()=>[a(t,{xs:24,sm:24,md:24,lg:24},{default:l(()=>[a(n,{gutter:16},{default:l(()=>[a(t,{xs:24,sm:24,md:12,lg:12},{default:l(()=>[a(u,{label:e.$t("warehouse.name"),name:"name",help:e.rules.name?e.rules.name.message:null,validateStatus:e.rules.name?"error":null,class:"required"},{default:l(()=>[a(p,{value:e.formData.name,"onUpdate:value":s[0]||(s[0]=o=>e.formData.name=o),placeholder:e.$t("common.placeholder_default_text",[e.$t("warehouse.name")]),onKeyup:s[1]||(s[1]=o=>e.formData.slug=e.slugify(o.target.value))},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),a(t,{xs:24,sm:24,md:12,lg:12},{default:l(()=>[a(u,{label:e.$t("warehouse.slug"),name:"slug",help:e.rules.slug?e.rules.slug.message:null,validateStatus:e.rules.slug?"error":null,class:"required"},{default:l(()=>[a(p,{value:e.formData.slug,"onUpdate:value":s[2]||(s[2]=o=>e.formData.slug=o),placeholder:e.$t("common.placeholder_default_text",[e.$t("warehouse.slug")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),a(n,{gutter:16},{default:l(()=>[a(t,{xs:24,sm:24,md:16,lg:16},{default:l(()=>[a(u,{label:e.$t("warehouse.email"),name:"email",help:e.rules.email?e.rules.email.message:null,validateStatus:e.rules.email?"error":null,class:"required"},{default:l(()=>[a(p,{value:e.formData.email,"onUpdate:value":s[3]||(s[3]=o=>e.formData.email=o),placeholder:e.$t("common.placeholder_default_text",[e.$t("warehouse.email")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),a(t,{xs:24,sm:24,md:8,lg:8},{default:l(()=>[a(u,{label:e.$t("warehouse.show_email_on_invoice"),name:"show_email_on_invoice",help:e.rules.show_email_on_invoice?e.rules.show_email_on_invoice.message:null,validateStatus:e.rules.show_email_on_invoice?"error":null},{default:l(()=>[a(k,{checked:e.formData.show_email_on_invoice,"onUpdate:checked":s[4]||(s[4]=o=>e.formData.show_email_on_invoice=o),checkedValue:1,unCheckedValue:0},null,8,["checked"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),a(n,{gutter:16},{default:l(()=>[a(t,{xs:24,sm:24,md:16,lg:16},{default:l(()=>[a(u,{label:e.$t("warehouse.phone"),name:"phone",help:e.rules.phone?e.rules.phone.message:null,validateStatus:e.rules.phone?"error":null,class:"required"},{default:l(()=>[a(p,{value:e.formData.phone,"onUpdate:value":s[5]||(s[5]=o=>e.formData.phone=o),placeholder:e.$t("common.placeholder_default_text",[e.$t("warehouse.phone")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),a(t,{xs:24,sm:24,md:8,lg:8},{default:l(()=>[a(u,{label:e.$t("warehouse.show_phone_on_invoice"),name:"show_phone_on_invoice",help:e.rules.show_phone_on_invoice?e.rules.show_phone_on_invoice.message:null,validateStatus:e.rules.show_phone_on_invoice?"error":null},{default:l(()=>[a(k,{checked:e.formData.show_phone_on_invoice,"onUpdate:checked":s[6]||(s[6]=o=>e.formData.show_phone_on_invoice=o),checkedValue:1,unCheckedValue:0},null,8,["checked"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1}),a(n,{gutter:16},{default:l(()=>[a(t,{xs:24,sm:24,md:6,lg:6},{default:l(()=>[a(n,{gutter:16},{default:l(()=>[a(t,{span:24},{default:l(()=>[a(u,{label:e.$t("warehouse.logo"),name:"logo",help:e.rules.logo?e.rules.logo.message:null,validateStatus:e.rules.logo?"error":null},{default:l(()=>[a(y,{formData:e.formData,folder:"warehouses",imageField:"logo",onOnFileUploaded:s[7]||(s[7]=o=>{e.formData.logo=o.file,e.formData.logo_url=o.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1}),a(t,{xs:24,sm:24,md:6,lg:6},{default:l(()=>[a(n,{gutter:16},{default:l(()=>[a(t,{span:24},{default:l(()=>[a(u,{label:e.$t("warehouse.dark_logo"),name:"dark_logo",help:e.rules.dark_logo?e.rules.dark_logo.message:null,validateStatus:e.rules.dark_logo?"error":null},{default:l(()=>[a(y,{formData:e.formData,folder:"warehouses",imageField:"dark_logo",onOnFileUploaded:s[8]||(s[8]=o=>{e.formData.dark_logo=o.file,e.formData.dark_logo_url=o.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1}),a(n,{gutter:16},{default:l(()=>[a(t,{xs:24,sm:24,md:24,lg:24},{default:l(()=>[a(u,{label:e.$t("warehouse.address"),name:"address",help:e.rules.address?e.rules.address.message:null,validateStatus:e.rules.address?"error":null},{default:l(()=>[a(m,{value:e.formData.address,"onUpdate:value":s[9]||(s[9]=o=>e.formData.address=o),placeholder:e.$t("common.placeholder_default_text",[e.$t("warehouse.address")]),"auto-size":{minRows:2,maxRows:3}},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),a(n,{gutter:16},{default:l(()=>[a(t,{xs:24,sm:24,md:24,lg:24},{default:l(()=>[a(u,null,{default:l(()=>[a(c,{type:"warning",strong:""},{default:l(()=>[$("blockquote",null,i(e.$t("warehouse.details_will_be_shown_on_invoice")),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(n,{gutter:16},{default:l(()=>[a(t,{xs:24,sm:24,md:24,lg:24},{default:l(()=>[a(u,{label:e.$t("warehouse.bank_details"),name:"bank_details",help:e.rules.bank_details?e.rules.bank_details.message:null,validateStatus:e.rules.bank_details?"error":null},{default:l(()=>[a(m,{value:e.formData.bank_details,"onUpdate:value":s[10]||(s[10]=o=>e.formData.bank_details=o),placeholder:e.$t("common.placeholder_default_text",[e.$t("warehouse.bank_details")]),"auto-size":{minRows:2,maxRows:3}},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),a(n,{gutter:16},{default:l(()=>[a(t,{xs:24,sm:24,md:24,lg:24},{default:l(()=>[a(u,{label:e.$t("warehouse.terms_condition"),name:"terms_condition",help:e.rules.terms_condition?e.rules.terms_condition.message:null,validateStatus:e.rules.terms_condition?"error":null},{default:l(()=>[a(m,{value:e.formData.terms_condition,"onUpdate:value":s[11]||(s[11]=o=>e.formData.terms_condition=o),placeholder:e.$t("common.placeholder_default_text",[e.$t("warehouse.terms_condition")]),"auto-size":{minRows:2,maxRows:3}},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),a(n,{gutter:16},{default:l(()=>[a(t,{span:24},{default:l(()=>[a(u,{label:e.$t("warehouse.signature"),name:"signature",help:e.rules.signature?e.rules.signature.message:null,validateStatus:e.rules.signature?"error":null},{default:l(()=>[a(y,{formData:e.formData,folder:"warehouses",imageField:"signature",onOnFileUploaded:s[12]||(s[12]=o=>{e.formData.signature=o.file,e.formData.signature_url=o.file_url})},null,8,["formData"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1}),a(U,{key:"visibility"},{tab:l(()=>[$("span",null,[a(R),r(" "+i(e.$t("warehouse.visibility")),1)])]),default:l(()=>[a(n,{gutter:16},{default:l(()=>[a(t,{xs:24,sm:24,md:24,lg:24},{default:l(()=>[a(u,{label:e.$t("warehouse.customers_visibility"),name:"customers_visibility",help:e.rules.customers_visibility?e.rules.customers_visibility.message:null,validateStatus:e.rules.customers_visibility?"error":null},{default:l(()=>[a(h,{value:e.formData.customers_visibility,"onUpdate:value":s[13]||(s[13]=o=>e.formData.customers_visibility=o)},{default:l(()=>[a(f,{style:v(e.radioStyle),value:"all"},{default:l(()=>[r(i(e.$t("warehouse.view_all_customers")),1)]),_:1},8,["style"]),a(f,{style:v(e.radioStyle),value:"warehouse"},{default:l(()=>[r(i(e.$t("warehouse.view_warehouse_customers")),1)]),_:1},8,["style"])]),_:1},8,["value"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),a(n,{gutter:16},{default:l(()=>[a(t,{xs:24,sm:24,md:24,lg:24},{default:l(()=>[a(u,{label:e.$t("warehouse.suppliers_visibility"),name:"suppliers_visibility",help:e.rules.suppliers_visibility?e.rules.suppliers_visibility.message:null,validateStatus:e.rules.suppliers_visibility?"error":null},{default:l(()=>[a(h,{value:e.formData.suppliers_visibility,"onUpdate:value":s[14]||(s[14]=o=>e.formData.suppliers_visibility=o)},{default:l(()=>[a(f,{style:v(e.radioStyle),value:"all"},{default:l(()=>[r(i(e.$t("warehouse.view_all_suppliers")),1)]),_:1},8,["style"]),a(f,{style:v(e.radioStyle),value:"warehouse"},{default:l(()=>[r(i(e.$t("warehouse.view_warehouse_suppliers")),1)]),_:1},8,["style"])]),_:1},8,["value"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),a(n,{gutter:16},{default:l(()=>[a(t,{xs:24,sm:24,md:24,lg:24},{default:l(()=>[a(u,{label:e.$t("warehouse.products_visibility"),name:"products_visibility",help:e.rules.products_visibility?e.rules.products_visibility.message:null,validateStatus:e.rules.products_visibility?"error":null},{default:l(()=>[a(h,{value:e.formData.products_visibility,"onUpdate:value":s[15]||(s[15]=o=>e.formData.products_visibility=o)},{default:l(()=>[a(f,{style:v(e.radioStyle),value:"all"},{default:l(()=>[r(i(e.$t("warehouse.view_all_products")),1)]),_:1},8,["style"]),a(f,{style:v(e.radioStyle),value:"warehouse"},{default:l(()=>[r(i(e.$t("warehouse.view_warehouse_products")),1)]),_:1},8,["style"])]),_:1},8,["value"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1}),a(U,{key:"pos_settings"},{tab:l(()=>[$("span",null,[a(q),r(" "+i(e.$t("menu.pos_settings")),1)])]),default:l(()=>[a(n,{gutter:16},{default:l(()=>[a(t,{xs:24,sm:24,md:24,lg:24},{default:l(()=>[a(u,{label:e.$t("warehouse.default_pos_order_status"),name:"default_pos_order_status",help:e.rules.default_pos_order_status?e.rules.default_pos_order_status.message:null,validateStatus:e.rules.default_pos_order_status?"error":null},{default:l(()=>[a(E,{value:e.formData.default_pos_order_status,"onUpdate:value":s[16]||(s[16]=o=>e.formData.default_pos_order_status=o),placeholder:e.$t("warehouse.default_pos_order_status"),style:{width:"100%"}},{default:l(()=>[(C(!0),J(X,null,Q(e.salesOrderStatus,o=>(C(),T(O,{key:o.key,value:o.key},{default:l(()=>[r(i(o.value),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),a(n,{gutter:16},{default:l(()=>[a(t,{span:24},{default:l(()=>[a(u,{label:e.$t("warehouse.show_mrp_on_invoice"),name:"show_mrp_on_invoice",help:e.rules.show_mrp_on_invoice?e.rules.show_mrp_on_invoice.message:null,validateStatus:e.rules.show_mrp_on_invoice?"error":null},{default:l(()=>[a(h,{value:e.formData.show_mrp_on_invoice,"onUpdate:value":s[17]||(s[17]=o=>e.formData.show_mrp_on_invoice=o),size:"small",buttonStyle:"solid"},{default:l(()=>[a(S,{value:1},{default:l(()=>[r(i(e.$t("common.yes")),1)]),_:1}),a(S,{value:0},{default:l(()=>[r(i(e.$t("common.no")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),a(n,{gutter:16},{default:l(()=>[a(t,{span:24},{default:l(()=>[a(u,{label:e.$t("warehouse.show_discount_tax_on_invoice"),name:"show_discount_tax_on_invoice",help:e.rules.show_discount_tax_on_invoice?e.rules.show_discount_tax_on_invoice.message:null,validateStatus:e.rules.show_discount_tax_on_invoice?"error":null},{default:l(()=>[a(h,{value:e.formData.show_discount_tax_on_invoice,"onUpdate:value":s[18]||(s[18]=o=>e.formData.show_discount_tax_on_invoice=o),size:"small",buttonStyle:"solid"},{default:l(()=>[a(S,{value:1},{default:l(()=>[r(i(e.$t("common.yes")),1)]),_:1}),a(S,{value:0},{default:l(()=>[r(i(e.$t("common.no")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),a(n,{gutter:16},{default:l(()=>[a(t,{xs:24,sm:24,md:12,lg:12},{default:l(()=>[a(u,{label:e.$t("warehouse.barcode_type"),name:"barcode_type",help:e.rules.barcode_type?e.rules.barcode_type.message:null,validateStatus:e.rules.barcode_type?"error":null,class:"required"},{default:l(()=>[a(E,{value:e.formData.barcode_type,"onUpdate:value":s[19]||(s[19]=o=>e.formData.barcode_type=o),style:{width:"100%"}},{default:l(()=>[a(O,{value:"barcode"},{default:l(()=>[r(i(e.$t("warehouse.barcode")),1)]),_:1}),a(O,{value:"qrcode"},{default:l(()=>[r(i(e.$t("warehouse.qrcode")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["activeKey"])]),_:1})]),_:1},8,["title","width","open","onClose"])}const Oe=z(be,[["render",ye]]);export{Oe as A,Ue as f};

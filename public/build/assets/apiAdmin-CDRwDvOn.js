import{f as h,Y as A,b as R,ak as q,ax as x,b8 as l}from"./app-h8lPCWyJ.js";const C=()=>{const t=h(!1),u=h({}),{t:i}=A(),{appSetting:g}=R();return{loading:t,rules:u,addEditRequestAdmin:s=>{t.value=!0;const{url:c,data:m,success:f}=s;var o={};q(m,function(r,e){r==null?o[e]=null:o[e]=r}),axiosAdmin.post(c,o).then(r=>{s.successMessage&&x.success({placement:g.value.rtl?"bottomLeft":"bottomRight",message:i("common.success"),description:s.successMessage}),f(r.data),t.value=!1,u.value={}}).catch(r=>{var e=r.data;const v=r.status;var n={};if(v==422){if(e.error&&typeof e.error.details<"u")for(var d=Object.keys(e.error.details),a=0;a<d.length;a++){var p=d[a].replace(".","\\.");n[p]={required:!0,message:e.error.details[d[a]][0]}}u.value=n,l.error(i("common.fix_errors"))}e&&e.message&&(l.error(e.message),e={error:{...e}}),s.error&&s.error(e),t.value=!1})},addEditFileRequestAdmin:s=>{t.value=!0;const{url:c,data:m,success:f}=s,o=new FormData;q(m,function(r,e){r==null?o.append(e,null):o.append(e,r.originFileObj)}),axiosAdmin.post(c,o,{headers:{"Content-Type":"multipart/form-data"}}).then(r=>{s.successMessage&&x.success({placement:g.value.rtl?"bottomLeft":"bottomRight",message:i("common.success"),description:s.successMessage}),f(r.data),t.value=!1,u.value={}}).catch(r=>{var e=r.data;const v=r.status;var n={};if(v==422){if(e.error&&typeof e.error.details<"u")for(var d=Object.keys(e.error.details),a=0;a<d.length;a++){var p=d[a].replace(".","\\.");n[p]={required:!0,message:e.error.details[d[a]][0]}}u.value=n,l.error(i("common.fix_errors"))}e&&e.message&&(l.error(e.message),e={error:{...e}}),s.error&&s.error(e),t.value=!1})}}};export{C as a};

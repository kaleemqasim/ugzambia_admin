import{S as H}from"./SettingSidebar-BIR6zUlQ.js";import{A as I}from"./AdminPageHeader-DSNZKHLn.js";import{_ as O,Y as M,f as D,E as N,au as B,r as d,o as p,i as A,w as t,a as e,l as i,t as m,c as C,G as U,M as $,k as G,aG as T,aD as V,n as x,q,h as R,I as z,p as L,B as E,F as Y,ay as j,aB as J,aC as Q,C as W}from"./app-DVDFvYcV.js";import{a as X}from"./apiAdmin-D_rwEECy.js";import{S as F}from"./SaveOutlined-BpbPs1He.js";import"./index-BEo7fYpq.js";import"./MailOutlined-5EXVeaq_.js";import"./TranslationOutlined-Big-Yycw.js";import"./UserOutlined-BsxflHFe.js";import"./ShoppingCartOutlined-B8XbdNJl.js";import"./ScheduleOutlined-DeiZUfGr.js";import"./AppstoreAddOutlined-B3CNK9-h.js";import"./FormOutlined-BHSdNOme.js";const Z={components:{SaveOutlined:F},setup(){const{addEditRequestAdmin:n,loading:l,rules:k}=X(),{t:a}=M(),g=D({}),f=D([]);return N(()=>{axiosAdmin.get(B("settings/storage")).then(s=>{g.value=s.data.storage,f.value=s.data.regions})}),{loading:l,rules:k,awsRegions:f,formData:g,onSubmit:()=>{n({url:B("settings/storage/update"),data:g.value,successMessage:a("storage_settings.updated"),success:s=>{}})}}}},K={key:0};function ee(n,l,k,a,g,f){const c=T,s=V,r=x,u=q,_=R,b=z,y=L,h=d("SaveOutlined"),v=E,w=Y;return p(),A(w,{layout:"vertical"},{default:t(()=>[e(_,{gutter:16},{default:t(()=>[e(u,{span:24},{default:t(()=>[e(r,{label:n.$t("storage_settings.storage"),name:"filesystem",help:a.rules.filesystem?a.rules.filesystem.message:null,validateStatus:a.rules.filesystem?"error":null},{default:t(()=>[e(s,{value:a.formData.filesystem,"onUpdate:value":l[0]||(l[0]=o=>a.formData.filesystem=o),placeholder:n.$t("common.select_default_text",[n.$t("storage_settings.storage")])},{default:t(()=>[e(c,{key:"local",value:"local"},{default:t(()=>[i(m(n.$t("storage_settings.local")),1)]),_:1}),e(c,{key:"aws",value:"aws"},{default:t(()=>[i(m(n.$t("storage_settings.aws")),1)]),_:1})]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),a.formData.filesystem=="aws"?(p(),C("div",K,[e(_,{gutter:16},{default:t(()=>[e(u,{xs:24,sm:24,md:12,lg:12},{default:t(()=>[e(r,{label:n.$t("storage_settings.aws_key"),name:"key",help:a.rules.key?a.rules.key.message:null,validateStatus:a.rules.key?"error":null,class:"required"},{default:t(()=>[e(b,{value:a.formData.key,"onUpdate:value":l[1]||(l[1]=o=>a.formData.key=o),placeholder:n.$t("common.placeholder_default_text",[n.$t("storage_settings.aws_key")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),e(u,{xs:24,sm:24,md:12,lg:12},{default:t(()=>[e(r,{label:n.$t("storage_settings.aws_secret"),name:"secret",help:a.rules.secret?a.rules.secret.message:null,validateStatus:a.rules.secret?"error":null,class:"required"},{default:t(()=>[e(y,{value:a.formData.secret,"onUpdate:value":l[2]||(l[2]=o=>a.formData.secret=o),placeholder:n.$t("common.placeholder_default_text",[n.$t("storage_settings.aws_secret")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),e(_,{gutter:16},{default:t(()=>[e(u,{xs:24,sm:24,md:12,lg:12},{default:t(()=>[e(r,{label:n.$t("storage_settings.aws_region"),name:"region",help:a.rules.region?a.rules.region.message:null,validateStatus:a.rules.region?"error":null},{default:t(()=>[e(s,{value:a.formData.region,"onUpdate:value":l[3]||(l[3]=o=>a.formData.region=o),placeholder:n.$t("common.select_default_text",[n.$t("storage_settings.aws_region")]),allowClear:!0,optionFilterProp:"label","show-search":""},{default:t(()=>[(p(!0),C(U,null,$(a.awsRegions,(o,S)=>(p(),A(c,{key:S,value:S,label:o},{default:t(()=>[i(m(o),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),e(u,{xs:24,sm:24,md:12,lg:12},{default:t(()=>[e(r,{label:n.$t("storage_settings.aws_bucket"),name:"bucket",help:a.rules.bucket?a.rules.bucket.message:null,validateStatus:a.rules.bucket?"error":null,class:"required"},{default:t(()=>[e(b,{value:a.formData.bucket,"onUpdate:value":l[4]||(l[4]=o=>a.formData.bucket=o),placeholder:n.$t("common.placeholder_default_text",[n.$t("storage_settings.aws_bucket")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})])):G("",!0),e(_,{gutter:16},{default:t(()=>[e(u,{xs:24,sm:24,md:24,lg:24},{default:t(()=>[e(r,null,{default:t(()=>[e(v,{type:"primary",onClick:a.onSubmit,loading:a.loading},{icon:t(()=>[e(h)]),default:t(()=>[i(" "+m(n.$t("common.update")),1)]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1})]),_:1})}const te=O(Z,[["render",ee]]),ae={components:{SettingSidebar:H,AdminPageHeader:I,StorageSettings:te,SaveOutlined:F},setup(){const n=D(null);return{onSubmit:()=>{n.value.onSubmit()},settingRef:n}}};function ne(n,l,k,a,g,f){const c=d("SaveOutlined"),s=E,r=j,u=d("router-link"),_=J,b=Q,y=d("AdminPageHeader"),h=d("SettingSidebar"),v=q,w=d("StorageSettings"),o=W,S=d("admin-page-table-content"),P=R;return p(),C(U,null,[e(y,null,{header:t(()=>[e(r,{title:n.$t("menu.storage_settings"),class:"p-0"},{extra:t(()=>[e(s,{type:"primary",onClick:a.onSubmit,loading:!!(a.settingRef&&a.settingRef.loading)},{icon:t(()=>[e(c)]),default:t(()=>[i(" "+m(n.$t("common.update")),1)]),_:1},8,["onClick","loading"])]),_:1},8,["title"])]),breadcrumb:t(()=>[e(b,{separator:"-",style:{"font-size":"12px"}},{default:t(()=>[e(_,null,{default:t(()=>[e(u,{to:{name:"admin.dashboard.index"}},{default:t(()=>[i(m(n.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),e(_,null,{default:t(()=>[i(m(n.$t("menu.settings")),1)]),_:1}),e(_,null,{default:t(()=>[i(m(n.$t("menu.storage_settings")),1)]),_:1})]),_:1})]),_:1}),e(P,null,{default:t(()=>[e(v,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:t(()=>[e(h)]),_:1}),e(v,{xs:24,sm:24,md:24,lg:20,xl:20},{default:t(()=>[e(S,null,{default:t(()=>[e(o,{class:"page-content-container mt-20 mb-20"},{default:t(()=>[e(w,{ref:"settingRef"},null,512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}const be=O(ae,[["render",ne]]);export{be as default};

import{_ as w,d as F,Y as O,f as U,r as b,o as B,c as D,a as o,w as l,l as p,t as u,j as k,B as I,ar as S,bj as L,q as M,h as T,bz as N,n as V,F as j,X as q}from"./app-CLFRnoDY.js";import{a as E}from"./apiAdmin-DLxgfbyg.js";import{U as z,a as A}from"./UploadFile-DYkn9O3p.js";import{C as R}from"./CloudDownloadOutlined-CmGKNChT.js";const X=F({props:["pageTitle","sampleFileUrl","importUrl"],emits:["onUploadSuccess"],components:{CloudDownloadOutlined:R,UploadFile:z,UploadOutlined:A},setup(e,{emit:s}){const{addEditFileRequestAdmin:f,loading:d,rules:g}=E(),{t:v}=O(),a=U([]),n=U(!1),m=t=>(a.value=[...a.value,t],!1),_=()=>{const t={};a&&a.value&&a.value[0]!=null&&(t.file=a.value[0]),d.value=!0,f({url:e.importUrl,data:t,successMessage:v("messages.imported_successfully"),success:C=>{i(),s("onUploadSuccess")}})},r=()=>{n.value=!0},i=t=>{a.value=[],n.value=!1};return{fileList:a,rules:g,loading:d,visible:n,showModal:r,handleCancel:i,importItems:_,beforeUpload:m}}});function Y(e,s,f,d,g,v){const a=b("CloudDownloadOutlined"),n=I,m=S,_=L,r=M,i=T,t=b("UploadOutlined"),C=N,y=V,h=j,$=q;return B(),D("div",null,[o(n,{type:"primary",onClick:e.showModal},{default:l(()=>[o(a),p(" "+u(e.pageTitle),1)]),_:1},8,["onClick"]),o($,{open:e.visible,"onUpdate:open":s[1]||(s[1]=c=>e.visible=c),title:e.pageTitle},{footer:l(()=>[o(n,{type:"primary",loading:e.loading,onClick:e.importItems},{default:l(()=>[p(u(e.$t("common.import")),1)]),_:1},8,["loading","onClick"]),o(n,{key:"back",onClick:e.handleCancel},{default:l(()=>[p(u(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:l(()=>[o(i,{gutter:16,class:"mb-10"},{default:l(()=>[o(r,{xs:24,sm:24,md:24,lg:24},{default:l(()=>[o(_,null,{default:l(()=>[k("ul",null,[k("li",null,[o(m,{href:e.sampleFileUrl,target:"_blank"},{default:l(()=>[p(u(e.$t("messages.click_here_to_download_sample_file")),1)]),_:1},8,["href"])])])]),_:1})]),_:1})]),_:1}),o(i,{gutter:16},{default:l(()=>[o(r,{xs:24,sm:24,md:24,lg:24},{default:l(()=>[o(h,{layout:"vertical"},{default:l(()=>[o(y,{label:e.$t("common.file"),name:"file",help:e.rules.file?e.rules.file.message:null,validateStatus:e.rules.file?"error":null},{default:l(()=>[o(C,{accept:".xlsx,.csv","file-list":e.fileList,"onUpdate:fileList":s[0]||(s[0]=c=>e.fileList=c),name:"file","before-upload":e.beforeUpload,maxCount:1},{default:l(()=>[o(n,{loading:e.loading},{icon:l(()=>[o(t)]),default:l(()=>[p(" "+u(e.$t("common.upload")),1)]),_:1},8,["loading"])]),_:1},8,["accept","file-list","before-upload"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title"])])}const P=w(X,[["render",Y]]);export{P as I};

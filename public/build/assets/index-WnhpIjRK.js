import{c as I}from"./crud--w6EA9wE.js";import{_ as j,R as F,az as G,aA as L,b as $,E as q,r as s,o as d,c as h,a as n,w as a,G as C,h as J,l as u,t as m,i as c,k as _,M as Q,j as W,ay as X,aB as Y,aC as Z,q as x,B as ee,a0 as ne,aD as ae,aE as te,aF as oe,J as le,aG as se}from"./app-Bqx6TROa.js";import{A as de,f as ie}from"./AddEdit-CzhKV8nc.js";import{S as re}from"./SettingSidebar-Bq2E_4rK.js";import{A as ue}from"./AdminPageHeader-Gv6zmnDo.js";import"./datatable-C9RGzetN.js";import"./filter-CMuowfnm.js";import"./apiAdmin-Bfx_qk4c.js";import"./SaveOutlined-0z7ZR1B7.js";import"./MailOutlined-1QF7CSLg.js";import"./TranslationOutlined-AafaB5fp.js";import"./UserOutlined-DfdFSUz3.js";import"./ShoppingCartOutlined-BYWs7u71.js";import"./ScheduleOutlined-Ak5FP1vl.js";import"./AppstoreAddOutlined-dkM99jTL.js";import"./FormOutlined-CqwY0MoP.js";import"./index-ypCCJJJJ.js";const me={components:{PlusOutlined:F,EditOutlined:G,DeleteOutlined:L,AddEdit:de,SettingSidebar:re,AdminPageHeader:ue},setup(){const{permsArray:e}=$(),{url:i,addEditUrl:k,initData:t,columns:A,filterableColumns:f}=ie(),l=I();return q(()=>{l.tableUrl.value={url:i},l.table.filterableColumns=f,l.fetch({page:1}),l.crudUrl.value=k,l.langKey.value="unit",l.initData.value={...t},l.formData.value={...t}}),{permsArray:e,columns:A,...l,filterableColumns:f}}},ce={class:"table-responsive"};function _e(e,i,k,t,A,f){const l=X,S=s("router-link"),b=Y,E=Z,w=s("AdminPageHeader"),D=s("SettingSidebar"),r=x,O=s("PlusOutlined"),p=ee,v=s("DeleteOutlined"),T=ne,B=se,P=ae,U=te,V=oe,g=J,M=s("admin-page-filters"),R=s("AddEdit"),K=s("EditOutlined"),N=le,z=s("admin-page-table-content");return d(),h(C,null,[n(w,null,{header:a(()=>[n(l,{title:e.$t("menu.units"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[n(E,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[n(b,null,{default:a(()=>[n(S,{to:{name:"admin.dashboard.index"}},{default:a(()=>[u(m(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),n(b,null,{default:a(()=>[u(m(e.$t("menu.settings")),1)]),_:1}),n(b,null,{default:a(()=>[u(m(e.$t("menu.units")),1)]),_:1})]),_:1})]),_:1}),n(g,null,{default:a(()=>[n(r,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[n(D)]),_:1}),n(r,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[n(M,null,{default:a(()=>[n(g,{gutter:[16,16]},{default:a(()=>[n(r,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[n(T,null,{default:a(()=>[t.permsArray.includes("units_create")||t.permsArray.includes("admin")?(d(),c(p,{key:0,type:"primary",onClick:e.addItem},{default:a(()=>[n(O),u(" "+m(e.$t("unit.add")),1)]),_:1},8,["onClick"])):_("",!0),e.table.selectedRowKeys.length>0&&(t.permsArray.includes("units_delete")||t.permsArray.includes("admin"))?(d(),c(p,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[n(v)]),default:a(()=>[u(" "+m(e.$t("common.delete")),1)]),_:1},8,["onClick"])):_("",!0)]),_:1})]),_:1}),n(r,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[n(g,{gutter:[16,16],justify:"end"},{default:a(()=>[n(r,{xs:24,sm:24,md:16,lg:12,xl:10},{default:a(()=>[n(V,{compact:""},{default:a(()=>[n(P,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":i[0]||(i[0]=o=>e.table.searchColumn=o),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(d(!0),h(C,null,Q(t.filterableColumns,o=>(d(),c(B,{key:o.key},{default:a(()=>[u(m(o.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),n(U,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":i[1]||(i[1]=o=>e.table.searchString=o),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),n(z,null,{default:a(()=>[n(R,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),n(g,null,{default:a(()=>[n(r,{span:24},{default:a(()=>[W("div",ce,[n(N,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:o=>({disabled:!(o.is_deletable&&(t.permsArray.includes("units_delete")||t.permsArray.includes("admin"))),name:o.xid})},columns:t.columns,"row-key":o=>o.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:o,record:y})=>[o.dataIndex==="action"?(d(),h(C,{key:0},[t.permsArray.includes("units_edit")||t.permsArray.includes("admin")?(d(),c(p,{key:0,type:"primary",onClick:H=>e.editItem(y),style:{"margin-left":"4px"}},{icon:a(()=>[n(K)]),_:2},1032,["onClick"])):_("",!0),y.is_deletable&&(t.permsArray.includes("units_delete")||t.permsArray.includes("admin"))?(d(),c(p,{key:1,type:"primary",onClick:H=>e.showDeleteConfirm(y.xid),style:{"margin-left":"4px"}},{icon:a(()=>[n(v)]),_:2},1032,["onClick"])):_("",!0)],64)):_("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const Pe=j(me,[["render",_e]]);export{Pe as default};

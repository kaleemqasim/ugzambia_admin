import{_ as E,d as P,r as V,o as u,c as B,a,w as t,A as W,b as T,u as L,e as N,f as C,g as A,h as U,i as d,j as r,t as c,k as v,l as w,m as D,I as M,n as O,p as F,B as I,F as j,C as z,q as G}from"./app-Bs7WNiYp.js";import{a as H}from"./apiAdmin-DQV4TvuF.js";import{D as J}from"./DemoCredentials-DC-GUps9.js";import"./index-DHZ5C9P2.js";const K=P({components:{DemoCredentials:J,ArrowLeftOutlined:W},setup(){const{addEditRequestAdmin:e,loading:l,rules:y}=H(),{globalSetting:k,appType:S}=T(),q=k.value.login_image_url,s=L(),g=N(),n=C(!0),b=A({email:""}),h=A({email:null,password:null}),m=C({error:"",success:""}),p=C({error:"",success:""}),$=()=>{f(),n.value=!1},_=()=>{n.value=!0,f()},f=()=>{m.value={error:"",success:""},p.value={error:"",success:""},y.value={}},i=()=>{e({url:"auth/forgot-password",data:b,success:o=>{p.value={error:"",success:!0}},error:o=>{p.value={error:o.error.message?o.error.message:"",success:!1}}})};return{appType:S,loading:l,rules:y,credentials:h,onSubmit:()=>{m.value={error:"",success:!1},e({url:"auth/login",data:h,success:o=>{const R=o.user;s.commit("auth/updateUser",R),s.commit("auth/updateToken",o.token),s.commit("auth/updateExpires",o.expires_in),s.commit("auth/updateSupperVariable",!1),s.commit("auth/updateVisibleSubscriptionModules",o.visible_subscription_modules),S=="non-saas"?(s.dispatch("auth/updateAllWarehouses"),s.commit("auth/updateWarehouse",o.user.warehouse),g.push({name:"admin.dashboard.index",params:{success:!0}})):R.is_superadmin&&R.user_type=="super_admins"?(s.commit("auth/updateApp",o.app),s.commit("auth/updateSupperToken",o.token),s.commit("auth/updateSupperVariable",!0),s.commit("auth/updateEmailVerifiedSetting",o.email_setting_verified),g.push({name:"superadmin.dashboard.index",params:{success:!0}})):(s.commit("auth/updateApp",o.app),s.commit("auth/updateEmailVerifiedSetting",o.email_setting_verified),s.commit("auth/updateAddMenus",o.shortcut_menus.credentials),s.dispatch("auth/updateAllWarehouses"),s.commit("auth/updateWarehouse",o.user.warehouse),g.push({name:"admin.dashboard.index",params:{success:!0}}))},error:o=>{m.value={error:o.error.message?o.error.message:"",success:!1}}})},onRequestSend:m,globalSetting:k,loginBackground:q,innerWidth:window.innerWidth,onResetPass:$,onResetClose:_,resetPassword:n,onReset:i,resetCredential:b,onResetRequest:p}}}),Q={class:"login-main-container"},X={class:"login-logo"},Y=["src"],Z=r("br",null,null,-1),x={style:{"text-align":"left","margin-top":"10px","margin-bottom":"30px"}},ee={style:{"font-weight":"bold","font-size":"18px","margin-bottom":"2px"}},se={style:{"margin-bottom":"14px"}},ae=["loading"],te={class:"login-logo mb-30"},oe=["src"],le=r("br",null,null,-1),ne=["loading"],re={class:"right-login-div"},ie=["src"];function ue(e,l,y,k,S,q){const s=D,g=M,n=O,b=F,h=I,m=j,p=z,$=V("ArrowLeftOutlined"),_=G,f=U;return u(),B("div",Q,[a(f,{class:"main-container-div"},{default:t(()=>[a(_,{xs:24,sm:24,md:24,lg:8},{default:t(()=>[a(f,{class:"login-left-div"},{default:t(()=>[a(_,{xs:{span:20,offset:2},sm:{span:20,offset:2},md:{span:16,offset:4},lg:{span:16,offset:4}},{default:t(()=>[e.resetPassword?(u(),d(p,{key:0,title:null,class:"login-div",bordered:e.innerWidth<=768},{default:t(()=>[a(m,{layout:"vertical"},{default:t(()=>[r("div",X,[r("img",{class:"login-img-logo",src:e.globalSetting.light_logo_url},null,8,Y)]),Z,r("div",x,[r("div",ee,c(e.$t("user.sign_in")),1),r("div",se,c(e.$t("messages.please_login_to_your_account")),1)]),e.onRequestSend.error!=""?(u(),d(s,{key:0,message:e.onRequestSend.error,type:"error","show-icon":"",class:"mb-20 mt-10"},null,8,["message"])):v("",!0),e.onRequestSend.success?(u(),d(s,{key:1,message:e.$t("messages.login_success"),type:"success","show-icon":"",class:"mb-20 mt-10"},null,8,["message"])):v("",!0),a(n,{label:e.$t("user.email_phone"),name:"email",help:e.rules.email?e.rules.email.message:null,validateStatus:e.rules.email?"error":null},{default:t(()=>[a(g,{value:e.credentials.email,"onUpdate:value":l[0]||(l[0]=i=>e.credentials.email=i),onPressEnter:e.onSubmit,placeholder:e.$t("common.placeholder_default_text",[e.$t("user.email_phone")])},null,8,["value","onPressEnter","placeholder"])]),_:1},8,["label","help","validateStatus"]),a(n,{label:e.$t("user.password"),name:"password",help:e.rules.password?e.rules.password.message:null,validateStatus:e.rules.password?"error":null},{default:t(()=>[a(b,{value:e.credentials.password,"onUpdate:value":l[1]||(l[1]=i=>e.credentials.password=i),onPressEnter:e.onSubmit,placeholder:e.$t("common.placeholder_default_text",[e.$t("user.password")])},null,8,["value","onPressEnter","placeholder"])]),_:1},8,["label","help","validateStatus"]),a(n,{class:"mt-30 mb-0"},{default:t(()=>[a(h,{loading:e.loading,onClick:e.onSubmit,class:"login-btn",block:"",type:"primary"},{default:t(()=>[w(c(e.$t("menu.login")),1)]),_:1},8,["loading","onClick"])]),_:1}),a(n,{class:"mt-10",style:{"text-align":"center","font-weight":"bold"}},{default:t(()=>[r("a",{loading:e.loading,onClick:l[2]||(l[2]=(...i)=>e.onResetPass&&e.onResetPass(...i))},c(e.$t("menu.reset_password")),9,ae)]),_:1}),e.appType==="saas"?(u(),d(n,{key:2,class:"mt-10",style:{"text-align":"center","font-weight":"bold"}},{default:t(()=>[a(h,{style:{"font-weight":"bold"},type:"link",loading:e.loading,onClick:l[3]||(l[3]=()=>e.$router.push({name:"superadmin.register"}))},{default:t(()=>[w(c(e.$t("front_website.register")),1)]),_:1},8,["loading"])]),_:1})):v("",!0)]),_:1})]),_:1},8,["bordered"])):(u(),d(p,{key:1,title:null,class:"login-div",bordered:e.innerWidth<=768},{default:t(()=>[e.onResetRequest.success?(u(),d(s,{key:0,message:e.$t("messages.reset_success"),type:"success","show-icon":"",class:"mb-20 mt-10"},null,8,["message"])):(u(),d(m,{key:1,layout:"vertical"},{default:t(()=>[r("div",te,[r("img",{class:"login-img-logo",src:e.globalSetting.light_logo_url},null,8,oe)]),le,e.onResetRequest.error!=""?(u(),d(s,{key:0,message:e.onResetRequest.error,type:"error","show-icon":"",class:"mb-20 mt-10",style:{"margin-top":"40px"}},null,8,["message"])):v("",!0),a(n,{label:e.$t("user.email_phone"),name:"email",help:e.rules.email?e.rules.email.message:null,validateStatus:e.rules.email?"error":null,style:{"margin-top":"32px"}},{default:t(()=>[a(g,{value:e.resetCredential.email,"onUpdate:value":l[4]||(l[4]=i=>e.resetCredential.email=i),placeholder:e.$t("common.placeholder_default_text",[e.$t("user.email_phone")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"]),a(n,{class:"mt-30 mb-0"},{default:t(()=>[a(h,{loading:e.loading,onClick:e.onReset,class:"login-btn",block:"",type:"primary"},{default:t(()=>[w(c(e.$t("menu.reset")),1)]),_:1},8,["loading","onClick"])]),_:1}),a(n,{class:"mt-10"},{default:t(()=>[a(n,{style:{"text-align":"center","font-weight":"bold"}},{default:t(()=>[r("a",{loading:e.loading,onClick:l[5]||(l[5]=(...i)=>e.onResetClose&&e.onResetClose(...i))},[a($),w(" "+c(e.$t("common.back")),1)],8,ne)]),_:1})]),_:1})]),_:1}))]),_:1},8,["bordered"]))]),_:1})]),_:1})]),_:1}),a(_,{xs:0,sm:0,md:24,lg:16},{default:t(()=>[r("div",re,[r("img",{class:"right-image",src:e.loginBackground},null,8,ie)])]),_:1})]),_:1})])}const he=E(K,[["render",ue]]);export{he as default};

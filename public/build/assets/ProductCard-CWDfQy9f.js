import{a as n,y as z,_ as B,R as A,u as j,f as b,E as V,ak as x,a6 as N,cA as E,r as C,o as _,c as O,j as e,t as u,i as P,w as o,l as p,k as h,G as T,b8 as Q,B as W,cB as D,q as F,v as G,bk as H,h as R,X as U}from"./app-ip--di_O.js";import{c as X}from"./cart-DqYDg5lC.js";import{f as J}from"./filter-CHtmwKcL.js";import{S as L}from"./ShoppingCartOutlined-dFFpJM5b.js";var Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};const Z=Y;function M(c){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?Object(arguments[r]):{},t=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(a).filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable}))),t.forEach(function(f){K(c,f,a[f])})}return c}function K(c,r,a){return r in c?Object.defineProperty(c,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):c[r]=a,c}var k=function(r,a){var t=M({},r,a.attrs);return n(z,M({},t,{icon:Z}),null)};k.displayName="MinusOutlined";k.inheritAttrs=!1;const $=k,tt={props:["product","currency"],components:{ShoppingCartOutlined:L,MinusOutlined:$,PlusOutlined:A},setup(c){const{formatAmountCurrency:r}=X(),a=j(),t=b(!1),f=b(1),g=b({});V(()=>{const l=a.getters["front/storeCartItems"];let m=0;x(l,i=>{i.xid==c.product.xid&&(m=i.cart_quantity)}),g.value={...c.product,cart_quantity:m}});const v=()=>{t.value=!0},d=l=>{const m=a.getters["front/storeCartItems"],i=J(m,y=>y.xid!=l.xid);l.cart_quantity>0&&i.push({...l,cart_quantity:l.cart_quantity}),a.commit("front/addCartItems",i),Q.success("Item updated in cart")};return N(a.state.front,(l,m)=>{let i=0;x(a.getters["front/storeCartItems"],y=>{y.xid==g.value.xid&&(i=y.cart_quantity)}),g.value={...g.value,cart_quantity:i}}),{currentProduct:g,formatAmountCurrency:r,visible:t,productQuantity:f,showModal:v,addItem:d,getSalesPriceWithTax:E}}},rt={key:0,class:"product"},nt={class:"product-top"},ot=["src"],et={class:"product-bottom"},at={class:"product-category"},ct={class:"product-title"},ut={class:"product-details"},it={class:"product-price"},dt=e("br",null,null,-1),lt={class:"product-card-add-edit"},st={class:"product-details-image"},_t=["src"],mt={key:0,class:"mt-10"},ft={class:"mt-10 mb-20"};function yt(c,r,a,t,f,g){const v=C("minus-outlined"),d=W,l=C("plus-outlined"),m=D,i=C("ShoppingCartOutlined"),y=F,q=G,I=H,S=R,w=U;return _(),O(T,null,[t.currentProduct&&t.currentProduct.xid?(_(),O("div",rt,[e("div",nt,[e("a",{href:"javascript:void(0)",onClick:r[0]||(r[0]=(...s)=>t.showModal&&t.showModal(...s))},[e("img",{src:t.currentProduct.image_url,class:"img-fit"},null,8,ot)])]),e("div",et,[e("div",null,[e("span",at,u(t.currentProduct.category.name),1),e("h5",ct,u(t.currentProduct.name),1)]),e("div",ut,[e("div",it,[e("span",null,u(t.formatAmountCurrency(t.getSalesPriceWithTax(t.currentProduct))),1),dt,e("del",null,u(t.formatAmountCurrency(t.currentProduct.details.mrp)),1)]),e("div",lt,[t.currentProduct.cart_quantity>0?(_(),P(m,{key:0},{default:o(()=>[n(d,{onClick:r[1]||(r[1]=s=>{t.currentProduct.cart_quantity-=1,t.addItem(t.currentProduct)}),size:"small"},{default:o(()=>[n(v)]),_:1}),n(d,{size:"small"},{default:o(()=>[p(u(t.currentProduct.cart_quantity),1)]),_:1}),n(d,{onClick:r[2]||(r[2]=s=>{t.currentProduct.cart_quantity+=1,t.addItem(t.currentProduct)}),size:"small"},{default:o(()=>[n(l)]),_:1})]),_:1})):(_(),P(d,{key:1,onClick:r[3]||(r[3]=s=>{t.currentProduct.cart_quantity++,t.addItem(t.currentProduct)}),type:"primary"},{icon:o(()=>[n(i)]),_:1}))])])])])):h("",!0),n(w,{open:t.visible,"onUpdate:open":r[7]||(r[7]=s=>t.visible=s),centered:"",footer:null,title:null,width:850},{default:o(()=>[n(S,{gutter:[16,16]},{default:o(()=>[n(y,{span:12},{default:o(()=>[e("div",st,[e("span",null,[e("img",{src:t.currentProduct.image_url},null,8,_t)])])]),_:1}),n(y,{span:12},{default:o(()=>[n(q,{level:3},{default:o(()=>[p(u(t.currentProduct.name),1)]),_:1}),e("div",null,[t.currentProduct.category_id?(_(),P(I,{key:0,color:"purple"},{default:o(()=>[p(u(t.currentProduct.category.name),1)]),_:1})):h("",!0),t.currentProduct.brand_id?(_(),P(I,{key:1,color:"cyan"},{default:o(()=>[p(u(t.currentProduct.brand.name),1)]),_:1})):h("",!0)]),t.currentProduct.description?(_(),O("p",mt,u(t.currentProduct.description),1)):h("",!0),n(q,{class:"mt-20",level:3},{default:o(()=>[p(u(t.formatAmountCurrency(t.getSalesPriceWithTax(t.currentProduct))),1)]),_:1}),e("div",ft,[t.currentProduct.cart_quantity>0?(_(),P(m,{key:0},{default:o(()=>[n(d,{onClick:r[4]||(r[4]=s=>{t.currentProduct.cart_quantity-=1,t.addItem(t.currentProduct)}),size:"large"},{default:o(()=>[n(v)]),_:1}),n(d,{size:"large"},{default:o(()=>[p(u(t.currentProduct.cart_quantity),1)]),_:1}),n(d,{onClick:r[5]||(r[5]=s=>{t.currentProduct.cart_quantity+=1,t.addItem(t.currentProduct)}),size:"large"},{default:o(()=>[n(l)]),_:1})]),_:1})):(_(),P(d,{key:1,onClick:r[6]||(r[6]=s=>{t.currentProduct.cart_quantity++,t.addItem(t.currentProduct)}),type:"primary",size:"large"},{default:o(()=>[n(i),p(" "+u(c.$t("front_setting.add_to_cart")),1)]),_:1}))])]),_:1})]),_:1})]),_:1},8,["open"])],64)}const ht=B(tt,[["render",yt]]);export{ht as P};

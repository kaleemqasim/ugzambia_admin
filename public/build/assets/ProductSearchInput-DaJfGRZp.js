import{_ as m,d as _,aV as g,g as S,E as v,aW as C,a6 as D,aX as $,r as k,o as l,i as h,ab as b,w as c,a as f,c as T,M as x,G as y,aY as I,aD as O,l as B,t as w,aG as E}from"./app-DynhcvNs.js";const F=_({props:["productData"],emits:["valueSuccess","valueChanged"],components:{SearchOutlined:g},setup(t,{emit:o}){const a=S({searchTerm:[],fetching:!1,products:[]});v(()=>{r(t)});const r=e=>{e.productData&&e.productData.product?(a.products=[{xid:e.productData.x_product_id,name:e.productData.product.name}],a.searchTerm=e.productData.x_product_id):(a.searchTerm=[],a.products=[]),o("valueSuccess")},i=(e,s)=>{o("valueChanged",e),o("valueSuccess")},p=C(e=>{if(a.products=[],e!=""){a.fetching=!0;const s=`name lk "%${e}%" or item_code lk "%${e}%"`;let d=`products?fields=xid,name&filters=${encodeURIComponent(s)}&limit=10`;axiosAdmin.get(d).then(u=>{a.products=u.data,a.fetching=!1})}},300);return D(t,(e,s)=>{r(e)}),{...$(a),fetchProducts:p,valueChanged:i}}});function G(t,o,a,r,i,p){const e=k("SearchOutlined"),s=I,d=E,u=O;return l(),h(u,{value:t.searchTerm,"onUpdate:value":o[0]||(o[0]=n=>t.searchTerm=n),"show-search":"","filter-option":!1,placeholder:t.$t("product.search_scan_product"),style:{width:"100%"},"not-found-content":t.fetching?void 0:null,onSearch:t.fetchProducts,"option-label-prop":"label",onChange:t.valueChanged,allowClear:!0},b({suffixIcon:c(()=>[f(e)]),default:c(()=>[(l(!0),T(y,null,x(t.products,n=>(l(),h(d,{key:n.xid,value:n.xid,label:n.name,product:n},{default:c(()=>[B(w(n.name),1)]),_:2},1032,["value","label","product"]))),128))]),_:2},[t.fetching?{name:"notFoundContent",fn:c(()=>[f(s,{size:"small"})]),key:"0"}:void 0]),1032,["value","placeholder","not-found-content","onSearch","onChange"])}const N=m(F,[["render",G]]);export{N as P};

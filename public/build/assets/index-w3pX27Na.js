import{c as G}from"./crud-CHNWf6RF.js";import{_ as L,R as $,az as q,aA as J,b as Q,E as W,r as i,o as s,c as f,a as n,w as a,G as h,h as X,l as u,t as m,i as c,k as r,M as Y,j as v,ay as Z,aB as x,aC as ee,q as ne,B as ae,a0 as te,aD as oe,aE as le,aF as se,al as ie,J as de,aG as re}from"./app-BpSwCG6g.js";import{A as ue,f as me}from"./AddEdit-DGdNgGwu.js";import{S as _e}from"./SettingSidebar-B0Ajh9Gi.js";import{A as pe}from"./AdminPageHeader-QXOyEvLU.js";import{O as ce}from"./OnlineStoreStatus-DnSyFNoH.js";import"./datatable-lG44bJpE.js";import"./filter-CM_yF2Vg.js";import"./apiAdmin-C7_R8X3n.js";import"./Upload-DX-9j-1s.js";import"./SaveOutlined-CGg5bXQu.js";import"./SettingOutlined-DfezaZJ2.js";import"./MailOutlined-iE2KjV2b.js";import"./TranslationOutlined-C0ytOY9d.js";import"./UserOutlined-CmmV8JCy.js";import"./ShoppingCartOutlined-Y-34daXz.js";import"./ScheduleOutlined-BqUnTF-9.js";import"./AppstoreAddOutlined-BrSYRxzy.js";import"./FormOutlined-BFILSGCJ.js";import"./index-DG3b9Djm.js";const ge={components:{PlusOutlined:$,EditOutlined:q,DeleteOutlined:J,AddEdit:ue,SettingSidebar:_e,AdminPageHeader:pe,OnlineStoreStatus:ce},setup(){const{permsArray:e,appSetting:_}=Q(),{url:C,addEditUrl:t,initData:w,columns:k,filterableColumns:b}=me(),l=G();return W(()=>{l.tableUrl.value={url:C},l.table.filterableColumns=b,l.fetch({page:1}),l.crudUrl.value=t,l.langKey.value="warehouse",l.initData.value={...w},l.formData.value={...w}}),{appSetting:_,permsArray:e,columns:k,...l,filterableColumns:b}}},fe={class:"table-responsive"},he=v("br",null,null,-1);function be(e,_,C,t,w,k){const b=Z,l=i("router-link"),S=x,E=ee,D=i("AdminPageHeader"),O=i("SettingSidebar"),p=ne,T=i("PlusOutlined"),g=ae,A=i("DeleteOutlined"),B=te,P=re,U=oe,V=le,I=se,y=X,M=i("admin-page-filters"),R=i("AddEdit"),K=ie,N=i("OnlineStoreStatus"),z=i("EditOutlined"),H=de,j=i("admin-page-table-content");return s(),f(h,null,[n(D,null,{header:a(()=>[n(b,{title:e.$t("menu.warehouses"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[n(E,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[n(S,null,{default:a(()=>[n(l,{to:{name:"admin.dashboard.index"}},{default:a(()=>[u(m(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),n(S,null,{default:a(()=>[u(m(e.$t("menu.settings")),1)]),_:1}),n(S,null,{default:a(()=>[u(m(e.$t("menu.warehouses")),1)]),_:1})]),_:1})]),_:1}),n(y,null,{default:a(()=>[n(p,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[n(O)]),_:1}),n(p,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[n(M,null,{default:a(()=>[n(y,{gutter:[16,16]},{default:a(()=>[n(p,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[n(B,null,{default:a(()=>[t.permsArray.includes("warehouses_create")||t.permsArray.includes("admin")?(s(),c(g,{key:0,type:"primary",onClick:e.addItem},{default:a(()=>[n(T),u(" "+m(e.$t("warehouse.add")),1)]),_:1},8,["onClick"])):r("",!0),e.table.selectedRowKeys.length>0&&(t.permsArray.includes("warehouses_delete")||t.permsArray.includes("admin"))?(s(),c(g,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[n(A)]),default:a(()=>[u(" "+m(e.$t("common.delete")),1)]),_:1},8,["onClick"])):r("",!0)]),_:1})]),_:1}),n(p,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[n(y,{gutter:[16,16],justify:"end"},{default:a(()=>[n(p,{xs:24,sm:24,md:16,lg:12,xl:10},{default:a(()=>[n(I,{compact:""},{default:a(()=>[n(U,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":_[0]||(_[0]=o=>e.table.searchColumn=o),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(s(!0),f(h,null,Y(t.filterableColumns,o=>(s(),c(P,{key:o.key},{default:a(()=>[u(m(o.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),n(V,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":_[1]||(_[1]=o=>e.table.searchString=o),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),n(j,null,{default:a(()=>[n(R,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),n(y,null,{default:a(()=>[n(p,{span:24},{default:a(()=>[v("div",fe,[n(H,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:o=>({disabled:!((t.permsArray.includes("warehouses_delete")||t.permsArray.includes("admin"))&&t.appSetting.x_warehouse_id!=o.xid),name:o.xid})},columns:t.columns,"row-key":o=>o.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:o,record:d})=>[o.dataIndex==="logo"?(s(),c(K,{key:0,width:48,src:d.logo_url},null,8,["src"])):r("",!0),o.dataIndex==="online_store_enabled"?(s(),f(h,{key:1},[n(N,{status:d.online_store_enabled,x_warehouse_id:d.xid,onSuccess:e.fetch},null,8,["status","x_warehouse_id","onSuccess"]),d.online_store_enabled==1?(s(),f(h,{key:0},[he,n(l,{to:{name:"front.homepage",params:{warehouse:d.slug}},target:"_blank"},{default:a(()=>[n(g,{type:"link",class:"p-0 mt-5"},{default:a(()=>[u(m(e.$t("warehouse.view_online_store")),1)]),_:1})]),_:2},1032,["to"])],64)):r("",!0)],64)):r("",!0),o.dataIndex==="action"?(s(),f(h,{key:2},[t.permsArray.includes("warehouses_edit")||t.permsArray.includes("admin")?(s(),c(g,{key:0,type:"primary",onClick:F=>e.editItem(d),style:{"margin-left":"4px"}},{icon:a(()=>[n(z)]),_:2},1032,["onClick"])):r("",!0),(t.permsArray.includes("warehouses_delete")||t.permsArray.includes("admin"))&&t.appSetting.x_warehouse_id!=d.xid?(s(),c(g,{key:1,type:"primary",onClick:F=>e.showDeleteConfirm(d.xid),style:{"margin-left":"4px"}},{icon:a(()=>[n(A)]),_:2},1032,["onClick"])):r("",!0)],64)):r("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const ze=L(ge,[["render",be]]);export{ze as default};

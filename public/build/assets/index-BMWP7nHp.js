import{A as K,f as N}from"./fields-CVxi415E.js";import{c as z}from"./crud-BS6Ab46O.js";import{_ as H,R as j,az as F,aA as q,b as G,E as J,r as d,o,c as i,a,w as n,G as f,h as Q,l as u,t as r,i as v,k as m,j as W,M as X,ay as Y,aB as Z,aC as x,q as ee,B as ae,a0 as ne,aE as te,aF as oe,bk as le,J as se}from"./app-CsgcGABr.js";import{A as de}from"./AdminPageHeader-BTPC63Ka.js";import{L as ie}from"./LeaveSidebar-JAieQc9k.js";import"./apiAdmin-CdX65gtg.js";import"./SaveOutlined-sGOueZ_q.js";import"./datatable-Bf82G7ZS.js";import"./filter-DjVKjPda.js";import"./index-B6gPlpy2.js";import"./TabletOutlined-Bol4inFQ.js";import"./UnderlineOutlined-DBbovA-a.js";import"./ScheduleOutlined-BKI3nVPx.js";import"./FundViewOutlined-DS7vNB8Q.js";const re={components:{PlusOutlined:j,EditOutlined:F,DeleteOutlined:q,AddEdit:K,AdminPageHeader:de,LeaveSidebar:ie},setup(){const{addEditUrl:e,initData:c,columns:E,filterableColumns:t,url:w}=N(),s=z(),{permsArray:k,appSetting:C,formatDate:g,statusColors:A}=G();return J(()=>{s.tableUrl.value={url:w},s.table.filterableColumns=t,s.fetch({page:1}),s.crudUrl.value=e,s.langKey.value="leave_type",s.initData.value={...c},s.formData.value={...c}}),{columns:E,...s,filterableColumns:t,permsArray:k,appSetting:C,formatDate:g,statusColors:A}}},me={class:"table-responsive"},ue={key:0},_e={key:1},pe={key:0};function ce(e,c,E,t,w,s){const k=Y,C=d("router-link"),g=Z,A=x,O=d("AdminPageHeader"),B=d("LeaveSidebar"),_=ee,P=d("PlusOutlined"),b=ae,S=ne,D=d("DeleteOutlined"),I=te,L=oe,h=Q,V=d("admin-page-filters"),$=d("AddEdit"),T=le,M=d("EditOutlined"),R=se,U=d("admin-page-table-content");return o(),i(f,null,[a(O,null,{header:n(()=>[a(k,{title:e.$t("menu.leave_types"),class:"p-0"},null,8,["title"])]),breadcrumb:n(()=>[a(A,{separator:"-",style:{"font-size":"12px"}},{default:n(()=>[a(g,null,{default:n(()=>[a(C,{to:{name:"admin.dashboard.index"}},{default:n(()=>[u(r(e.$t("menu.dashboard")),1)]),_:1},8,["to"])]),_:1}),a(g,null,{default:n(()=>[u(r(e.$t("menu.hrm")),1)]),_:1}),a(g,null,{default:n(()=>[u(r(e.$t("menu.leave_types")),1)]),_:1})]),_:1})]),_:1}),a(h,null,{default:n(()=>[a(_,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:n(()=>[a(B)]),_:1}),a(_,{xs:24,sm:24,md:24,lg:20,xl:20},{default:n(()=>[a(V,null,{default:n(()=>[a(h,{gutter:[16,16]},{default:n(()=>[a(_,{xs:24,sm:24,md:12,lg:10,xl:10},{default:n(()=>[a(S,null,{default:n(()=>[t.permsArray.includes("leave_types_create")||t.permsArray.includes("admin")?(o(),v(S,{key:0},{default:n(()=>[a(b,{type:"primary",onClick:e.addItem},{default:n(()=>[a(P),u(" "+r(e.$t("leave_type.add")),1)]),_:1},8,["onClick"])]),_:1})):m("",!0),e.table.selectedRowKeys.length>0&&(t.permsArray.includes("leave_types_delete")||t.permsArray.includes("admin"))?(o(),v(b,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:n(()=>[a(D)]),default:n(()=>[u(" "+r(e.$t("common.delete")),1)]),_:1},8,["onClick"])):m("",!0)]),_:1})]),_:1}),a(_,{xs:24,sm:24,md:12,lg:14,xl:14},{default:n(()=>[a(h,{gutter:[16,16],justify:"end"},{default:n(()=>[a(_,{xs:24,sm:24,md:12,lg:12,xl:8},{default:n(()=>[a(L,{compact:""},{default:n(()=>[a(I,{style:{width:"100%"},value:e.table.searchString,"onUpdate:value":c[0]||(c[0]=l=>e.table.searchString=l),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading,placeholder:e.$t("common.placeholder_search_text",[e.$t("common.name")])},null,8,["value","onChange","onSearch","loading","placeholder"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(U,null,{default:n(()=>[a($,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),a(h,null,{default:n(()=>[a(_,{span:24},{default:n(()=>[W("div",me,[a(R,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:l=>({disabled:!1,name:l.xid})},columns:t.columns,"row-key":l=>l.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:n(({column:l,record:p})=>[l.dataIndex=="is_paid"?(o(),i(f,{key:0},[p.is_paid==1?(o(),i("div",ue,[a(T,{color:t.statusColors.enabled},{default:n(()=>[u(r(e.$t("common.yes")),1)]),_:1},8,["color"])])):(o(),i("div",_e,[a(T,{color:t.statusColors.disabled},{default:n(()=>[u(r(e.$t("common.no")),1)]),_:1},8,["color"])]))],64)):m("",!0),l.dataIndex==="month"?(o(!0),i(f,{key:1},X(e.monthArrays,y=>(o(),i("div",{key:y.key},[y.value==p.month?(o(),i("div",pe,r(y.key),1)):m("",!0)]))),128)):m("",!0),l.dataIndex==="max_leaves_per_month"?(o(),i(f,{key:2},[u(r(p.max_leaves_per_month?p.max_leaves_per_month:"-"),1)],64)):m("",!0),l.dataIndex==="action"?(o(),i(f,{key:3},[t.permsArray.includes("leave_types_edit")||t.permsArray.includes("admin")?(o(),v(b,{key:0,type:"primary",onClick:y=>e.editItem(p),style:{"margin-left":"4px"}},{icon:n(()=>[a(M)]),_:2},1032,["onClick"])):m("",!0),t.permsArray.includes("leave_types_delete")||t.permsArray.includes("admin")?(o(),v(b,{key:1,type:"primary",onClick:y=>e.showDeleteConfirm(p.xid),style:{"margin-left":"4px"}},{icon:n(()=>[a(D)]),_:2},1032,["onClick"])):m("",!0)],64)):m("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const Oe=H(re,[["render",ce]]);export{Oe as default};

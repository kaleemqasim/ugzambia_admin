import{_ as I,Q as K,aA as N,b as E,r as m,z as F,a6 as L,c as R,a as e,w as t,D as T,p as s,o as i,j as c,t as u,g as h,i as P,L as q,k as G,ay as M,aB as Q,aC as W,B as J,a0 as X,q as Y,aE as Z,aD as $,f as ee,an as te,ao as ae,aG as re}from"./app-OikDM5Kw.js";import{O as ne}from"./OrderTable-QyCJBZFP.js";import{D as oe}from"./DateRangePicker-S2EeC5bP.js";import{A as se}from"./AdminPageHeader-MbAN4P4t.js";import"./fields-wTnbSkqx.js";import"./datatable-DjynKO_7.js";import"./filter-CQCFHrIe.js";import"./PaymentStatus-CjQCOJGj.js";import"./OrderDetails-mKqlHQPv.js";import"./cart--15qoxZn.js";import"./UserInfo-4wSQ2hbz.js";import"./apiAdmin-yFrp6bZq.js";import"./AddButton-SD-wiXX7.js";import"./AddEdit-M237dgh9.js";import"./SaveOutlined-BSR-wlKo.js";import"./Invoice-D6GGDySg.js";import"./BarcodeGenerator-DMTKYGMo.js";import"./PrinterOutlined-DKHuCtDd.js";import"./View-CN_6w9rZ.js";import"./ArrowUpOutlined-CHf8-fEI.js";import"./SendOutlined-BDuYMtDj.js";import"./WalletOutlined-CcOLOtgU.js";import"./ShoppingCartOutlined-BldUIlX-.js";import"./DollarCircleOutlined-BoHdeX4E.js";import"./index-CaGusbUe.js";const le={components:{PlusOutlined:K,DeleteOutlined:N,OrderTable:ne,DateRangePicker:oe,AdminPageHeader:se},setup(){const{formatAmountCurrency:n,orderType:o,orderPageObject:x,orderStatus:a,permsArray:D,selectedWarehouse:p}=E();G();const f=m([]),d=m(null),g=m([]),k=m(null),y=m({payment_status:"all",warehouse_id:void 0,dates:[],searchColumn:"invoice_number",transfer_type:"transfered",searchString:""});return F(()=>{const b=`warehouses?filters=id ne "${p.value.xid}"&hashable=${p.value.xid}&limit=10000`,_=axiosAdmin.get(b);Promise.all([_]).then(([v])=>{f.value=v.data})}),L(p,(b,_)=>{y.value={order_status:"all",user_id:void 0,dates:[],searchColumn:"invoice_number",transfer_type:"transfered",searchString:""},d.value.resetPicker()}),{orderPageObject:x,permsArray:D,orderStatus:a,formatAmountCurrency:n,warehouses:f,filters:y,orderType:o,serachDateRangePicker:d,selectedRowIds:g,orderTableRef:k}}};function ie(n,o,x,a,D,p){const f=M,d=s("router-link"),g=Q,k=W,y=s("AdminPageHeader"),b=s("PlusOutlined"),_=J,v=s("DeleteOutlined"),A=X,l=Y,C=Z,S=re,B=$,V=s("DateRangePicker"),w=ee,U=s("admin-page-filters"),O=te,j=ae,z=s("OrderTable"),H=s("admin-page-table-content");return i(),R(T,null,[e(y,null,{header:t(()=>[e(f,{title:n.$t("menu.stock_transfer"),class:"p-0"},null,8,["title"])]),breadcrumb:t(()=>[e(k,{separator:"-",style:{"font-size":"12px"}},{default:t(()=>[e(g,null,{default:t(()=>[e(d,{to:{name:"admin.dashboard.index"}},{default:t(()=>[c(u(n.$t("menu.dashboard")),1)]),_:1})]),_:1}),e(g,null,{default:t(()=>[c(u(n.$t("menu.stock_transfer")),1)]),_:1})]),_:1})]),_:1}),e(U,null,{default:t(()=>[e(w,{gutter:[16,16]},{default:t(()=>[e(l,{xs:24,sm:24,md:12,lg:10,xl:10},{default:t(()=>[e(A,null,{default:t(()=>[(a.permsArray.includes("stock_transfers_create")||a.permsArray.includes("admin"))&&a.filters.transfer_type=="transfered"?(i(),h(d,{key:0,to:{name:"admin.stock.stock-transfers.create"}},{default:t(()=>[e(_,{type:"primary"},{default:t(()=>[e(b),c(" "+u(n.$t("stock_transfer.add")),1)]),_:1})]),_:1})):P("",!0),a.selectedRowIds.length>0&&(a.permsArray.includes("stock_transfers_delete")||a.permsArray.includes("admin"))?(i(),h(_,{key:1,type:"primary",onClick:a.orderTableRef.showSelectedDeleteConfirm,danger:""},{icon:t(()=>[e(v)]),default:t(()=>[c(" "+u(n.$t("common.delete")),1)]),_:1},8,["onClick"])):P("",!0)]),_:1})]),_:1}),e(l,{xs:24,sm:24,md:12,lg:14,xl:14},{default:t(()=>[e(w,{gutter:[16,16],justify:"end"},{default:t(()=>[e(l,{xs:24,sm:24,md:12,lg:6,xl:6},{default:t(()=>[e(C,{style:{width:"100%"},value:a.filters.searchString,"onUpdate:value":o[0]||(o[0]=r=>a.filters.searchString=r),"show-search":"",placeholder:n.$t("common.placeholder_search_text",[n.$t("stock.invoice_number")])},null,8,["value","placeholder"])]),_:1}),a.filters.transfer_type=="transfered"?(i(),h(l,{key:0,xs:24,sm:24,md:8,lg:6,xl:6},{default:t(()=>[e(B,{value:a.filters.warehouse_id,"onUpdate:value":o[1]||(o[1]=r=>a.filters.warehouse_id=r),placeholder:n.$t("common.select_default_text",[n.$t("warehouse.warehouse")]),allowClear:!0,style:{width:"100%"},optionFilterProp:"title","show-search":""},{default:t(()=>[(i(!0),R(T,null,q(a.warehouses,r=>(i(),h(S,{key:r.xid,title:r.name,value:r.xid},{default:t(()=>[c(u(r.name),1)]),_:2},1032,["title","value"]))),128))]),_:1},8,["value","placeholder"])]),_:1})):P("",!0),e(l,{xs:24,sm:24,md:8,lg:6,xl:6},{default:t(()=>[e(V,{ref:"serachDateRangePicker",onDateTimeChanged:o[2]||(o[2]=r=>a.filters.dates=r)},null,512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(H,null,{default:t(()=>[e(w,null,{default:t(()=>[e(l,{span:24},{default:t(()=>[e(j,{activeKey:a.filters.transfer_type,"onUpdate:activeKey":o[3]||(o[3]=r=>a.filters.transfer_type=r)},{default:t(()=>[e(O,{key:"transfered",tab:n.$t("stock_transfer.transfered")},null,8,["tab"]),e(O,{key:"received",tab:n.$t("stock_transfer.received")},null,8,["tab"])]),_:1},8,["activeKey"])]),_:1})]),_:1}),e(z,{ref:"orderTableRef",orderType:a.orderType,filters:a.filters,tableSize:"middle",bordered:!0,selectable:!0,onOnRowSelection:o[4]||(o[4]=r=>a.selectedRowIds=r)},null,8,["orderType","filters"])]),_:1})],64)}const Ue=I(le,[["render",ie]]);export{Ue as default};

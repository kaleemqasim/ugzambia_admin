import{a as e,x as z,_ as w,b as P,o as i,g as y,w as a,j as o,t as s,bi as F,d as M,r as G,z as H,bF as Q,c as f,D as g,L as W,bG as J,bH as R,u as U,V as X,bI as Y,p as v,h as b,i as C,l as Z,aO as K,aP as x,a1 as tt,bk as et,bl as at,G as nt,q as rt,f as st}from"./app-OikDM5Kw.js";import{c as ot}from"./cart--15qoxZn.js";import{P as lt}from"./PaymentStatus-CjQCOJGj.js";var ut={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"};function I(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?Object(arguments[r]):{},l=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable}))),l.forEach(function(u){dt(t,u,n[u])})}return t}function dt(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}var V=function(r,n){var l=I({},r,n.attrs);return e(z,I({},l,{icon:ut}),null)};V.displayName="MoreOutlined";V.inheritAttrs=!1;var it={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"};function j(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?Object(arguments[r]):{},l=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(n).filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable}))),l.forEach(function(u){ct(t,u,n[u])})}return t}function ct(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}var A=function(r,n){var l=j({},r,n.attrs);return e(z,j({},l,{icon:it}),null)};A.displayName="StopOutlined";A.inheritAttrs=!1;const pt={props:["data"],setup(){const{orderStatusColors:t}=P();return{orderStatusColors:t}}};function mt(t,r,n,l,u,h){const p=F;return n.data.cancelled?(i(),y(p,{key:0,color:"#f50"},{default:a(()=>[o(s(t.$t("common.cancelled")),1)]),_:1})):(i(),y(p,{key:1,color:l.orderStatusColors[n.data.order_status]},{default:a(()=>[o(s(t.$t(`common.${n.data.order_status}`)),1)]),_:1},8,["color"]))}const _t=w(pt,[["render",mt]]),ft=M({props:["orderStatus"],setup(t){const{salesOrderStatus:r}=P(),{orderStatus:n}=t,l=G(0);return H(()=>{var u=Q(r,["key",n]);l.value=u+1}),{current:l,salesOrderStatus:r}}});function bt(t,r,n,l,u,h){const p=J,O=R;return i(),y(O,{current:t.current,status:"wait"},{default:a(()=>[(i(!0),f(g,null,W(t.salesOrderStatus,m=>(i(),y(p,{key:m.key,title:m.value},null,8,["title"]))),128))]),_:1},8,["current"])}const gt=w(ft,[["render",bt]]),yt=M({props:{order:{default:{}},detailView:{default:"front"}},components:{OrderStatus:gt,PaymentStatus:lt,StopOutlined:A,OrderStatusTag:_t},setup(t,{emit:r}){const n=ot(),l=P(),u=U(),h=X(()=>u.state.front.warehouseCurrency);return{columns:[{title:"#",dataIndex:"id"},{title:"Product",dataIndex:"product_id"},{title:"Quantity",dataIndex:"quantity"},{title:"Price",dataIndex:"unit_price"},{title:"Total",dataIndex:"subtotal"}],formatAmountCurrency:m=>t.detailView=="admin"?l.formatAmountCurrency(m):n.formatAmountCurrency(m),buildAddress:Y,warehouseCurrency:h}}}),ht={key:0},Ot={key:1},$t={class:"item-desc mt-40"},St={class:"mt-20 pl-15"},vt={class:"pd-10"},Ct={class:"item-total pd-10"};function kt(t,r,n,l,u,h){const p=v("stop-outlined"),O=Z,m=v("order-status"),c=K,D=v("PaymentStatus"),B=v("OrderStatusTag"),N=x,T=tt,q=et,E=at,L=nt,d=rt,_=st;return i(),f(g,null,[t.order.cancelled?(i(),f("div",ht,[e(O,{message:t.$t("online_orders.order_cancelled"),description:t.$t("online_orders.order_cancelled_message"),type:"error","show-icon":""},{icon:a(()=>[e(p)]),_:1},8,["message","description"])])):(i(),f("div",Ot,[e(m,{orderStatus:t.order.order_status},null,8,["orderStatus"])])),b("div",$t,[b("span",null,s(t.$t("online_orders.order_summary")),1)]),b("div",St,[e(N,{title:null,column:2,labelStyle:{fontWeight:"bold"}},{default:a(()=>[e(c,{label:t.$t("stock.order_id")},{default:a(()=>[o(s(t.order.invoice_number),1)]),_:1},8,["label"]),e(c,{label:t.$t("common.total")},{default:a(()=>[o(s(t.formatAmountCurrency(t.order.total)),1)]),_:1},8,["label"]),e(c,{label:t.$t("user.name")},{default:a(()=>[o(s(t.order.shipping_address.name),1)]),_:1},8,["label"]),e(c,{label:t.$t("user.email")},{default:a(()=>[o(s(t.order.shipping_address.email),1)]),_:1},8,["label"]),e(c,{label:t.$t("user.phone")},{default:a(()=>[o(s(t.order.shipping_address.phone),1)]),_:1},8,["label"]),e(c,{label:t.$t("payments.payment_status")},{default:a(()=>[e(D,{paymentStatus:t.order.payment_status},null,8,["paymentStatus"])]),_:1},8,["label"]),e(c,{label:t.$t("stock.status")},{default:a(()=>[e(B,{data:t.order},null,8,["data"])]),_:1},8,["label"]),e(c,{label:t.$t("stock.shipping_address")},{default:a(()=>[o(s(t.order.shipping_address.shipping_address),1)]),_:1},8,["label"]),e(c,{label:t.$t("stock.billing_address")},{default:a(()=>[o(s(t.order.shipping_address.address),1)]),_:1},8,["label"])]),_:1})]),e(_,{class:"mt-20"},{default:a(()=>[e(d,{span:24},{default:a(()=>[e(L,{columns:t.columns,"row-key":k=>k.id,"data-source":t.order.items,pagination:!1},{bodyCell:a(({index:k,column:$,record:S})=>[$.dataIndex==="id"?(i(),f(g,{key:0},[o(s(k+1),1)],64)):C("",!0),$.dataIndex==="product_id"?(i(),y(E,{key:1},{default:a(()=>[e(q,null,{avatar:a(()=>[e(T,{src:S.product.image_url,size:"large",shape:"square"},null,8,["src"])]),title:a(()=>[o(s(S.product.name),1)]),_:2},1024)]),_:2},1024)):C("",!0),$.dataIndex==="unit_price"?(i(),f(g,{key:2},[o(s(t.formatAmountCurrency(S.unit_price)),1)],64)):C("",!0),$.dataIndex==="subtotal"?(i(),f(g,{key:3},[o(s(t.formatAmountCurrency(S.subtotal)),1)],64)):C("",!0)]),_:1},8,["columns","row-key","data-source"])]),_:1})]),_:1}),e(_,{class:"mt-30"},{default:a(()=>[e(d,{span:18}),e(d,{span:6},{default:a(()=>[b("div",vt,[e(_,null,{default:a(()=>[e(d,{span:12},{default:a(()=>[o(s(t.$t("product.subtotal")),1)]),_:1}),e(d,{span:12,class:"text-right"},{default:a(()=>[o(s(t.formatAmountCurrency(t.order.subtotal)),1)]),_:1})]),_:1}),e(_,{class:"mt-10"},{default:a(()=>[e(d,{span:12},{default:a(()=>[o(s(t.$t("product.discount")),1)]),_:1}),e(d,{span:12,class:"text-right"},{default:a(()=>[o(s(t.formatAmountCurrency(t.order.discount)),1)]),_:1})]),_:1}),e(_,{class:"mt-10"},{default:a(()=>[e(d,{span:12},{default:a(()=>[o(s(t.$t("stock.order_tax")),1)]),_:1}),e(d,{span:12,class:"text-right"},{default:a(()=>[o(s(t.formatAmountCurrency(t.order.tax_amount)),1)]),_:1})]),_:1}),e(_,{class:"mt-10"},{default:a(()=>[e(d,{span:12},{default:a(()=>[o(s(t.$t("stock.shipping")),1)]),_:1}),e(d,{span:12,class:"text-right"},{default:a(()=>[o(s(t.formatAmountCurrency(t.order.shipping)),1)]),_:1})]),_:1})]),b("div",Ct,[e(_,{class:"mt-10"},{default:a(()=>[e(d,{span:12},{default:a(()=>[o(s(t.$t("stock.grand_total")),1)]),_:1}),e(d,{span:12,class:"text-right"},{default:a(()=>[o(s(t.formatAmountCurrency(t.order.total)),1)]),_:1})]),_:1})])]),_:1})]),_:1})],64)}const It=w(yt,[["render",kt]]);export{V as M,_t as O,A as S,It as a,gt as b};

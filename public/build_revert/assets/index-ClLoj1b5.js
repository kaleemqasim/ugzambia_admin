import{_ as I,Q as N,aA as E,b as F,r as p,z as L,a6 as G,c as T,a as t,w as a,D as j,p as s,o as d,j as m,t as c,g as P,i as S,L as A,y as M,ay as Q,aB as J,aC as V,B as W,a0 as X,q as Y,aE as Z,aD as $,f as ee,an as te,ao as ae,aG as ne}from"./app-OikDM5Kw.js";import{O as re}from"./OrderTable-QyCJBZFP.js";import{D as oe}from"./DateRangePicker-S2EeC5bP.js";import{A as le}from"./AdminPageHeader-MbAN4P4t.js";import"./fields-wTnbSkqx.js";import"./datatable-DjynKO_7.js";import"./filter-CQCFHrIe.js";import"./PaymentStatus-CjQCOJGj.js";import"./OrderDetails-mKqlHQPv.js";import"./cart--15qoxZn.js";import"./UserInfo-4wSQ2hbz.js";import"./apiAdmin-yFrp6bZq.js";import"./AddButton-SD-wiXX7.js";import"./AddEdit-M237dgh9.js";import"./SaveOutlined-BSR-wlKo.js";import"./Invoice-D6GGDySg.js";import"./BarcodeGenerator-DMTKYGMo.js";import"./PrinterOutlined-DKHuCtDd.js";import"./View-CN_6w9rZ.js";import"./ArrowUpOutlined-CHf8-fEI.js";import"./SendOutlined-BDuYMtDj.js";import"./WalletOutlined-CcOLOtgU.js";import"./ShoppingCartOutlined-BldUIlX-.js";import"./DollarCircleOutlined-BoHdeX4E.js";import"./index-CaGusbUe.js";const se={components:{PlusOutlined:N,DeleteOutlined:E,OrderTable:re,DateRangePicker:oe,AdminPageHeader:le},setup(){const{formatAmountCurrency:r,orderType:o,orderPageObject:h,orderStatus:e,permsArray:D}=F(),O=M(),f=p([]),u=p(null),_=p([]),v=p(null),g=p({payment_status:"all",user_id:void 0,dates:[],searchColumn:"invoice_number",searchString:""});L(()=>{y()});const y=()=>{const l=axiosAdmin.get(`${h.value.userType}?limit=10000`);Promise.all([l]).then(([b])=>{f.value=b.data})};return G(()=>O.meta.orderType,(l,b)=>{(l=="purchases"||l=="purchase-returns"||l=="sales"||l=="sales-returns"||l=="quotations")&&(o.value=O.meta.orderType,g.value={payment_status:"all",user_id:void 0,dates:[],searchColumn:"invoice_number",searchString:""},y(),u.value.resetPicker())}),{orderPageObject:h,permsArray:D,orderStatus:e,formatAmountCurrency:r,users:f,filters:g,orderType:o,serachDateRangePicker:u,selectedRowIds:_,orderTableRef:v}}};function de(r,o,h,e,D,O){const f=Q,u=s("router-link"),_=J,v=V,g=s("AdminPageHeader"),y=s("PlusOutlined"),l=W,b=s("DeleteOutlined"),C=X,i=Y,w=Z,x=ne,K=$,B=s("DateRangePicker"),k=ee,U=s("admin-page-filters"),R=te,q=ae,z=s("OrderTable"),H=s("admin-page-table-content");return d(),T(j,null,[t(g,null,{header:a(()=>[t(f,{title:r.$t(`menu.${e.orderPageObject.menuKey}`),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(v,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(_,null,{default:a(()=>[t(u,{to:{name:"admin.dashboard.index"}},{default:a(()=>[m(c(r.$t("menu.dashboard")),1)]),_:1})]),_:1}),t(_,null,{default:a(()=>[m(c(e.orderPageObject.type=="sales"||e.orderPageObject.type=="sales-returns"||e.orderPageObject.type=="quotations"?r.$t("menu.sales"):r.$t("menu.purchases")),1)]),_:1}),t(_,null,{default:a(()=>[m(c(r.$t(`menu.${e.orderPageObject.menuKey}`)),1)]),_:1})]),_:1})]),_:1}),t(U,null,{default:a(()=>[t(k,{gutter:[16,16]},{default:a(()=>[t(i,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[t(C,null,{default:a(()=>[e.permsArray.includes(`${e.orderPageObject.permission}_create`)||e.permsArray.includes("admin")?(d(),P(u,{key:0,to:{name:`admin.stock.${e.orderPageObject.type}.create`}},{default:a(()=>[t(l,{type:"primary"},{default:a(()=>[t(y),m(" "+c(r.$t(`${e.orderPageObject.langKey}.add`)),1)]),_:1})]),_:1},8,["to"])):S("",!0),e.selectedRowIds.length>0&&(e.permsArray.includes(`${e.orderPageObject.permission}_view`)||e.permsArray.includes("admin"))?(d(),P(l,{key:1,type:"primary",onClick:e.orderTableRef.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[t(b)]),default:a(()=>[m(" "+c(r.$t("common.delete")),1)]),_:1},8,["onClick"])):S("",!0)]),_:1})]),_:1}),t(i,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(k,{gutter:[16,16],justify:"end"},{default:a(()=>[t(i,{xs:24,sm:24,md:12,lg:8,xl:6},{default:a(()=>[t(w,{style:{width:"100%"},value:e.filters.searchString,"onUpdate:value":o[0]||(o[0]=n=>e.filters.searchString=n),"show-search":"",placeholder:r.$t("common.placeholder_search_text",[r.$t("stock.invoice_number")])},null,8,["value","placeholder"])]),_:1}),t(i,{xs:24,sm:24,md:8,lg:8,xl:6},{default:a(()=>[t(K,{value:e.filters.user_id,"onUpdate:value":o[1]||(o[1]=n=>e.filters.user_id=n),placeholder:r.$t("common.select_default_text",[r.$t(`${e.orderPageObject.langKey}.user`)]),allowClear:!0,style:{width:"100%"},optionFilterProp:"title","show-search":""},{default:a(()=>[(d(!0),T(j,null,A(e.users,n=>(d(),P(x,{key:n.xid,title:n.name,value:n.xid},{default:a(()=>[m(c(n.name),1)]),_:2},1032,["title","value"]))),128))]),_:1},8,["value","placeholder"])]),_:1}),t(i,{xs:24,sm:24,md:8,lg:8,xl:6},{default:a(()=>[t(B,{ref:"serachDateRangePicker",onDateTimeChanged:o[2]||(o[2]=n=>e.filters.dates=n)},null,512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(H,null,{default:a(()=>[t(k,null,{default:a(()=>[t(i,{span:24},{default:a(()=>[t(q,{activeKey:e.filters.payment_status,"onUpdate:activeKey":o[3]||(o[3]=n=>e.filters.payment_status=n)},{default:a(()=>[t(R,{key:"all",tab:`${r.$t("common.all")} ${r.$t("menu."+e.orderPageObject.menuKey)}`},null,8,["tab"]),(d(!0),T(j,null,A(e.orderStatus,n=>(d(),P(R,{key:n.key,tab:`${n.value}`},null,8,["tab"]))),128))]),_:1},8,["activeKey"])]),_:1})]),_:1}),t(z,{ref:"orderTableRef",orderType:e.orderType,filters:e.filters,tableSize:"middle",bordered:!0,selectable:!0,onOnRowSelection:o[4]||(o[4]=n=>e.selectedRowIds=n)},null,8,["orderType","filters"])]),_:1})],64)}const Be=I(se,[["render",de]]);export{Be as default};

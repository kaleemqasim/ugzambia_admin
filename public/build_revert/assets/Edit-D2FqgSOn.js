import{S as H}from"./SettingSidebar-D526a_C1.js";import{A as I}from"./AdminPageHeader-MbAN4P4t.js";import{_ as O,Y as N,r as D,z as $,au as B,p as d,o as p,g as A,w as t,a as e,j as _,t as m,c as C,D as U,L as z,i as L,aG as M,aD as T,m as V,q,f as R,I as j,n as x,B as F,F as G,ay as Y,aB as J,aC as Q,C as W}from"./app-OikDM5Kw.js";import{a as X}from"./apiAdmin-yFrp6bZq.js";import{S as P}from"./SaveOutlined-BSR-wlKo.js";import"./index-CaGusbUe.js";import"./TranslationOutlined-CEPKXLet.js";import"./UserOutlined-6nf3lw0h.js";import"./ShoppingCartOutlined-BldUIlX-.js";import"./ScheduleOutlined-Dj7wWgnj.js";import"./AppstoreAddOutlined-BIf-P8Dc.js";import"./MailOutlined-DcsIPfhp.js";import"./FormOutlined-VUqFOjZT.js";const Z={components:{SaveOutlined:P},setup(){const{addEditRequestAdmin:l,loading:n,rules:k}=X(),{t:a}=N(),g=D({}),f=D([]);return $(()=>{axiosAdmin.get(B("settings/storage")).then(s=>{g.value=s.data.storage,f.value=s.data.regions})}),{loading:n,rules:k,awsRegions:f,formData:g,onSubmit:()=>{l({url:B("settings/storage/update"),data:g.value,successMessage:a("storage_settings.updated"),success:s=>{}})}}}},K={key:0};function ee(l,n,k,a,g,f){const c=M,s=T,r=V,u=q,i=R,b=j,y=x,h=d("SaveOutlined"),v=F,w=G;return p(),A(w,{layout:"vertical"},{default:t(()=>[e(i,{gutter:16},{default:t(()=>[e(u,{span:24},{default:t(()=>[e(r,{label:l.$t("storage_settings.storage"),name:"filesystem",help:a.rules.filesystem?a.rules.filesystem.message:null,validateStatus:a.rules.filesystem?"error":null},{default:t(()=>[e(s,{value:a.formData.filesystem,"onUpdate:value":n[0]||(n[0]=o=>a.formData.filesystem=o),placeholder:l.$t("common.select_default_text",[l.$t("storage_settings.storage")])},{default:t(()=>[e(c,{key:"local",value:"local"},{default:t(()=>[_(m(l.$t("storage_settings.local")),1)]),_:1}),e(c,{key:"aws",value:"aws"},{default:t(()=>[_(m(l.$t("storage_settings.aws")),1)]),_:1})]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),a.formData.filesystem=="aws"?(p(),C("div",K,[e(i,{gutter:16},{default:t(()=>[e(u,{xs:24,sm:24,md:12,lg:12},{default:t(()=>[e(r,{label:l.$t("storage_settings.aws_key"),name:"key",help:a.rules.key?a.rules.key.message:null,validateStatus:a.rules.key?"error":null,class:"required"},{default:t(()=>[e(b,{value:a.formData.key,"onUpdate:value":n[1]||(n[1]=o=>a.formData.key=o),placeholder:l.$t("common.placeholder_default_text",[l.$t("storage_settings.aws_key")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),e(u,{xs:24,sm:24,md:12,lg:12},{default:t(()=>[e(r,{label:l.$t("storage_settings.aws_secret"),name:"secret",help:a.rules.secret?a.rules.secret.message:null,validateStatus:a.rules.secret?"error":null,class:"required"},{default:t(()=>[e(y,{value:a.formData.secret,"onUpdate:value":n[2]||(n[2]=o=>a.formData.secret=o),placeholder:l.$t("common.placeholder_default_text",[l.$t("storage_settings.aws_secret")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1}),e(i,{gutter:16},{default:t(()=>[e(u,{xs:24,sm:24,md:12,lg:12},{default:t(()=>[e(r,{label:l.$t("storage_settings.aws_region"),name:"region",help:a.rules.region?a.rules.region.message:null,validateStatus:a.rules.region?"error":null},{default:t(()=>[e(s,{value:a.formData.region,"onUpdate:value":n[3]||(n[3]=o=>a.formData.region=o),placeholder:l.$t("common.select_default_text",[l.$t("storage_settings.aws_region")]),allowClear:!0,optionFilterProp:"label","show-search":""},{default:t(()=>[(p(!0),C(U,null,z(a.awsRegions,(o,S)=>(p(),A(c,{key:S,value:S,label:o},{default:t(()=>[_(m(o),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1}),e(u,{xs:24,sm:24,md:12,lg:12},{default:t(()=>[e(r,{label:l.$t("storage_settings.aws_bucket"),name:"bucket",help:a.rules.bucket?a.rules.bucket.message:null,validateStatus:a.rules.bucket?"error":null,class:"required"},{default:t(()=>[e(b,{value:a.formData.bucket,"onUpdate:value":n[4]||(n[4]=o=>a.formData.bucket=o),placeholder:l.$t("common.placeholder_default_text",[l.$t("storage_settings.aws_bucket")])},null,8,["value","placeholder"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})])):L("",!0),e(i,{gutter:16},{default:t(()=>[e(u,{xs:24,sm:24,md:24,lg:24},{default:t(()=>[e(r,null,{default:t(()=>[e(v,{type:"primary",onClick:a.onSubmit,loading:a.loading},{icon:t(()=>[e(h)]),default:t(()=>[_(" "+m(l.$t("common.update")),1)]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1})]),_:1})}const te=O(Z,[["render",ee]]),ae={components:{SettingSidebar:H,AdminPageHeader:I,StorageSettings:te,SaveOutlined:P},setup(){const l=D(null);return{onSubmit:()=>{l.value.onSubmit()},settingRef:l}}};function le(l,n,k,a,g,f){const c=d("SaveOutlined"),s=F,r=Y,u=d("router-link"),i=J,b=Q,y=d("AdminPageHeader"),h=d("SettingSidebar"),v=q,w=d("StorageSettings"),o=W,S=d("admin-page-table-content"),E=R;return p(),C(U,null,[e(y,null,{header:t(()=>[e(r,{title:l.$t("menu.storage_settings"),class:"p-0"},{extra:t(()=>[e(s,{type:"primary",onClick:a.onSubmit,loading:!!(a.settingRef&&a.settingRef.loading)},{icon:t(()=>[e(c)]),default:t(()=>[_(" "+m(l.$t("common.update")),1)]),_:1},8,["onClick","loading"])]),_:1},8,["title"])]),breadcrumb:t(()=>[e(b,{separator:"-",style:{"font-size":"12px"}},{default:t(()=>[e(i,null,{default:t(()=>[e(u,{to:{name:"admin.dashboard.index"}},{default:t(()=>[_(m(l.$t("menu.dashboard")),1)]),_:1})]),_:1}),e(i,null,{default:t(()=>[_(m(l.$t("menu.settings")),1)]),_:1}),e(i,null,{default:t(()=>[_(m(l.$t("menu.storage_settings")),1)]),_:1})]),_:1})]),_:1}),e(E,null,{default:t(()=>[e(v,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:t(()=>[e(h)]),_:1}),e(v,{xs:24,sm:24,md:24,lg:20,xl:20},{default:t(()=>[e(S,null,{default:t(()=>[e(o,{class:"page-content-container mt-20 mb-20"},{default:t(()=>[e(w,{ref:"settingRef"},null,512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}const be=O(ae,[["render",le]]);export{be as default};

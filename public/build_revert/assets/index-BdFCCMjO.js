import{_ as P,Q as U,az as z,aA as I,Y as O,r as c,b as V,z as j,c as k,a as t,w as a,D as S,p,f as H,o as _,j as i,t as s,g as Y,i as N,L as G,h as T,ay as q,aB as F,aC as Q,q as J,aM as K,aD as R,bc as W,G as X,aG as Z}from"./app-OikDM5Kw.js";import{h as $}from"./hrmManagement-CoX4Drh7.js";import{A as ee}from"./AdminPageHeader-MbAN4P4t.js";import{L as ae}from"./LeaveSidebar-Cp6UaTnL.js";import"./index-CaGusbUe.js";import"./ScheduleOutlined-Dj7wWgnj.js";import"./TabletOutlined-vCKQCqfa.js";import"./FundViewOutlined-Cv0xqeLO.js";import"./UnderlineOutlined-C7p3VsLK.js";const te={components:{PlusOutlined:U,EditOutlined:z,DeleteOutlined:I,AdminPageHeader:ee,LeaveSidebar:ae},setup(){const{t:o}=O(),{getMonthNameByNumber:d}=$(),w=[{title:o("leave.leave_type"),dataIndex:"name"},{title:o("menu.unpaid_leaves"),dataIndex:"unpaid_leaves"}],e=c([]),f=c(!0),{dayjs:A,user:b,permsArray:x}=V(),r=c({year:A(),user_id:void 0}),g=c([]),h=c([]),M="users?limit=10000";j(()=>{const u=axiosAdmin.get(M);Promise.all([u]).then(([m])=>{h.value=m.data,r.value={...r.value,user_id:b.value.xid},l()})});const l=()=>{f.value=!0;var u=r.value.year.format("YYYY");axiosAdmin.get(`leaves/unpaid-leaves?year=${u}&user_id=${r.value.user_id}`).then(m=>{e.value=m.data.data,g.value=m.data.month_year,f.value=!1})};return{columns:w,unpaidLeaves:e,filters:r,getMonthNameByNumber:d,selectedYearStartEndMonths:g,tableLoading:f,setUrlData:l,allUsers:h,permsArray:x}}},ne={class:"table-responsive"};function oe(o,d,w,e,f,A){const b=q,x=p("router-link"),r=F,g=Q,h=p("AdminPageHeader"),M=p("LeaveSidebar"),l=J,u=K,m=Z,B=R,C=W,y=H,L=p("admin-page-filters"),E=X,D=p("admin-page-table-content");return _(),k(S,null,[t(h,null,{header:a(()=>[t(b,{title:o.$t("menu.leave_types"),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[t(g,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(r,null,{default:a(()=>[t(x,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(s(o.$t("menu.dashboard")),1)]),_:1})]),_:1}),t(r,null,{default:a(()=>[i(s(o.$t("menu.hrm")),1)]),_:1}),t(r,null,{default:a(()=>[i(s(o.$t("menu.unpaid_leaves")),1)]),_:1})]),_:1})]),_:1}),t(y,null,{default:a(()=>[t(l,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[t(M)]),_:1}),t(l,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[t(L,null,{default:a(()=>[t(y,{gutter:[16,16],align:"middle"},{default:a(()=>[t(l,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[e.selectedYearStartEndMonths&&e.selectedYearStartEndMonths.start_month?(_(),Y(u,{key:0,strong:""},{default:a(()=>[i(s(e.getMonthNameByNumber(e.selectedYearStartEndMonths.start_month))+" "+s(e.selectedYearStartEndMonths.start_year)+" - "+s(e.getMonthNameByNumber(e.selectedYearStartEndMonths.end_month))+" "+s(e.selectedYearStartEndMonths.end_year),1)]),_:1})):N("",!0)]),_:1}),t(l,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(y,{gutter:[16,16],justify:"end"},{default:a(()=>[e.permsArray.includes("admin")||e.permsArray.includes("leaves_assign_to_all")?(_(),Y(l,{key:0,xs:24,sm:24,md:12,lg:6,xl:6},{default:a(()=>[t(B,{value:e.filters.user_id,"onUpdate:value":d[0]||(d[0]=n=>e.filters.user_id=n),onChange:e.setUrlData,"show-search":"",style:{width:"100%"},placeholder:o.$t("common.select_default_text",[o.$t("leave.user")])},{default:a(()=>[(_(!0),k(S,null,G(e.allUsers,n=>(_(),Y(m,{key:n.xid,value:n.xid,title:n.name},{default:a(()=>[i(s(n.name),1)]),_:2},1032,["value","title"]))),128))]),_:1},8,["value","onChange","placeholder"])]),_:1})):N("",!0),t(l,{xs:24,sm:24,md:12,lg:12,xl:8},{default:a(()=>[t(C,{value:e.filters.year,"onUpdate:value":d[1]||(d[1]=n=>e.filters.year=n),placeholder:o.$t("common.select_default_text",[o.$t("holiday.year")]),picker:"year",onChange:e.setUrlData,style:{width:"100%"}},null,8,["value","placeholder","onChange"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(D,null,{default:a(()=>[t(y,null,{default:a(()=>[t(l,{span:24},{default:a(()=>[T("div",ne,[t(E,{"row-selection":{getCheckboxProps:n=>({disabled:!1,name:n.xid})},columns:e.columns,"row-key":n=>n.month,"data-source":e.unpaidLeaves,pagination:!1,loading:e.tableLoading,bordered:"",size:"middle"},{bodyCell:a(({column:n,record:v})=>[n.dataIndex=="name"?(_(),k(S,{key:0},[i(s(v.month?e.getMonthNameByNumber(v.month):"")+" "+s(v.year?v.year:""),1)],64)):N("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","loading"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const pe=P(te,[["render",oe]]);export{pe as default};

import{A as M,f as N}from"./fields-Di8MX3Au.js";import{c as R}from"./crud-BXjQ0O-i.js";import{_ as H,Q as j,az as F,aA as q,b as G,z as Q,c as d,a,w as n,D as f,p as i,f as J,o,j as u,t as r,g as v,i as m,h as W,L as X,ay as Y,aB as Z,aC as x,q as ee,B as ae,a0 as ne,aE as te,aF as oe,bi as le,G as se}from"./app-OikDM5Kw.js";import{A as de}from"./AdminPageHeader-MbAN4P4t.js";import{L as ie}from"./LeaveSidebar-Cp6UaTnL.js";import"./apiAdmin-yFrp6bZq.js";import"./SaveOutlined-BSR-wlKo.js";import"./datatable-DjynKO_7.js";import"./filter-CQCFHrIe.js";import"./index-CaGusbUe.js";import"./ScheduleOutlined-Dj7wWgnj.js";import"./TabletOutlined-vCKQCqfa.js";import"./FundViewOutlined-Cv0xqeLO.js";import"./UnderlineOutlined-C7p3VsLK.js";const re={components:{PlusOutlined:j,EditOutlined:F,DeleteOutlined:q,AddEdit:M,AdminPageHeader:de,LeaveSidebar:ie},setup(){const{addEditUrl:e,initData:p,columns:E,filterableColumns:t,url:S}=N(),s=R(),{permsArray:C,appSetting:k,formatDate:g,statusColors:A}=G();return Q(()=>{s.tableUrl.value={url:S},s.table.filterableColumns=t,s.fetch({page:1}),s.crudUrl.value=e,s.langKey.value="leave_type",s.initData.value={...p},s.formData.value={...p}}),{columns:E,...s,filterableColumns:t,permsArray:C,appSetting:k,formatDate:g,statusColors:A}}},me={class:"table-responsive"},ue={key:0},_e={key:1},ce={key:0};function pe(e,p,E,t,S,s){const C=Y,k=i("router-link"),g=Z,A=x,O=i("AdminPageHeader"),B=i("LeaveSidebar"),_=ee,L=i("PlusOutlined"),b=ae,w=ne,D=i("DeleteOutlined"),P=te,I=oe,h=J,V=i("admin-page-filters"),U=i("AddEdit"),T=le,$=i("EditOutlined"),z=se,K=i("admin-page-table-content");return o(),d(f,null,[a(O,null,{header:n(()=>[a(C,{title:e.$t("menu.leave_types"),class:"p-0"},null,8,["title"])]),breadcrumb:n(()=>[a(A,{separator:"-",style:{"font-size":"12px"}},{default:n(()=>[a(g,null,{default:n(()=>[a(k,{to:{name:"admin.dashboard.index"}},{default:n(()=>[u(r(e.$t("menu.dashboard")),1)]),_:1})]),_:1}),a(g,null,{default:n(()=>[u(r(e.$t("menu.hrm")),1)]),_:1}),a(g,null,{default:n(()=>[u(r(e.$t("menu.leave_types")),1)]),_:1})]),_:1})]),_:1}),a(h,null,{default:n(()=>[a(_,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:n(()=>[a(B)]),_:1}),a(_,{xs:24,sm:24,md:24,lg:20,xl:20},{default:n(()=>[a(V,null,{default:n(()=>[a(h,{gutter:[16,16]},{default:n(()=>[a(_,{xs:24,sm:24,md:12,lg:10,xl:10},{default:n(()=>[a(w,null,{default:n(()=>[t.permsArray.includes("leave_types_create")||t.permsArray.includes("admin")?(o(),v(w,{key:0},{default:n(()=>[a(b,{type:"primary",onClick:e.addItem},{default:n(()=>[a(L),u(" "+r(e.$t("leave_type.add")),1)]),_:1},8,["onClick"])]),_:1})):m("",!0),e.table.selectedRowKeys.length>0&&(t.permsArray.includes("leave_types_delete")||t.permsArray.includes("admin"))?(o(),v(b,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:n(()=>[a(D)]),default:n(()=>[u(" "+r(e.$t("common.delete")),1)]),_:1},8,["onClick"])):m("",!0)]),_:1})]),_:1}),a(_,{xs:24,sm:24,md:12,lg:14,xl:14},{default:n(()=>[a(h,{gutter:[16,16],justify:"end"},{default:n(()=>[a(_,{xs:24,sm:24,md:12,lg:12,xl:8},{default:n(()=>[a(I,{compact:""},{default:n(()=>[a(P,{style:{width:"100%"},value:e.table.searchString,"onUpdate:value":p[0]||(p[0]=l=>e.table.searchString=l),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading,placeholder:e.$t("common.placeholder_search_text",[e.$t("common.name")])},null,8,["value","onChange","onSearch","loading","placeholder"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(K,null,{default:n(()=>[a(U,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),a(h,null,{default:n(()=>[a(_,{span:24},{default:n(()=>[W("div",me,[a(z,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:l=>({disabled:!1,name:l.xid})},columns:t.columns,"row-key":l=>l.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:n(({column:l,record:c})=>[l.dataIndex=="is_paid"?(o(),d(f,{key:0},[c.is_paid==1?(o(),d("div",ue,[a(T,{color:t.statusColors.enabled},{default:n(()=>[u(r(e.$t("common.yes")),1)]),_:1},8,["color"])])):(o(),d("div",_e,[a(T,{color:t.statusColors.disabled},{default:n(()=>[u(r(e.$t("common.no")),1)]),_:1},8,["color"])]))],64)):m("",!0),l.dataIndex==="month"?(o(!0),d(f,{key:1},X(e.monthArrays,y=>(o(),d("div",{key:y.key},[y.value==c.month?(o(),d("div",ce,r(y.key),1)):m("",!0)]))),128)):m("",!0),l.dataIndex==="max_leaves_per_month"?(o(),d(f,{key:2},[u(r(c.max_leaves_per_month?c.max_leaves_per_month:"-"),1)],64)):m("",!0),l.dataIndex==="action"?(o(),d(f,{key:3},[t.permsArray.includes("leave_types_edit")||t.permsArray.includes("admin")?(o(),v(b,{key:0,type:"primary",onClick:y=>e.editItem(c),style:{"margin-left":"4px"}},{icon:n(()=>[a($)]),_:2},1032,["onClick"])):m("",!0),t.permsArray.includes("leave_types_delete")||t.permsArray.includes("admin")?(o(),v(b,{key:1,type:"primary",onClick:y=>e.showDeleteConfirm(c.xid),style:{"margin-left":"4px"}},{icon:n(()=>[a(D)]),_:2},1032,["onClick"])):m("",!0)],64)):m("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const Oe=H(re,[["render",pe]]);export{Oe as default};

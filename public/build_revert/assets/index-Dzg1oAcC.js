import{_ as B,az as G,aA as $,bj as J,b as L,Y as Q,z as Y,o as i,c as T,a as n,w as a,S as W,g as _,j as f,t as y,i as g,D as w,L as X,h as Z,au as x,p as d,B as P,a0 as V,q as R,aD as ee,aE as ne,aF as ae,f as z,a1 as te,bk as le,bl as oe,J as se,ar as ie,G as de,aG as re,Q as me,r as ue,ay as pe,aB as ce,aC as _e}from"./app-OikDM5Kw.js";import{S as ge}from"./SettingSidebar-D526a_C1.js";import{A as fe}from"./AdminPageHeader-MbAN4P4t.js";import{c as ye}from"./crud-BXjQ0O-i.js";import{a as be}from"./apiAdmin-yFrp6bZq.js";import{A as he,f as ke}from"./AddEdit-Dld4xuY3.js";import{I as Ce}from"./Import-DCvZ1G84.js";import"./TranslationOutlined-CEPKXLet.js";import"./UserOutlined-6nf3lw0h.js";import"./ShoppingCartOutlined-BldUIlX-.js";import"./ScheduleOutlined-Dj7wWgnj.js";import"./AppstoreAddOutlined-BIf-P8Dc.js";import"./MailOutlined-DcsIPfhp.js";import"./FormOutlined-VUqFOjZT.js";import"./index-CaGusbUe.js";import"./datatable-DjynKO_7.js";import"./filter-CQCFHrIe.js";import"./Upload-D5F1bEQ_.js";import"./SaveOutlined-BSR-wlKo.js";import"./UploadFile-DR1pWrT7.js";import"./CloudDownloadOutlined-CJYOjgRr.js";const Se={props:{panelType:{type:String,default:"admin"}},components:{EditOutlined:G,DeleteOutlined:$,AddEdit:he,DownloadOutlined:J},setup(){const{addEditRequestAdmin:e,loading:r}=be(),{permsArray:s,downloadLangCsvUrl:t}=L(),{url:C,addEditUrl:E,initData:b,columns:u,filterableColumns:p}=ke(),l=ye(),{t:h}=Q();return Y(()=>{l.tableUrl.value={url:C},l.table.filterableColumns=p,l.fetch({page:1}),l.crudUrl.value=E,l.langKey.value="langs",l.initData.value={...b},l.formData.value={...b}}),{permsArray:s,downloadLangCsvUrl:t,columns:u,...l,filterableColumns:p,changeLangStatus:c=>{e({url:x(`langs/${c.xid}`),data:{name:c.name,key:c.key,enabled:c.enabled,_method:"PUT"},successMessage:h("langs.status_updated"),success:A=>{}})},loading:r}}},Ae={class:"table-responsive"};function ve(e,r,s,t,C,E){const b=d("DeleteOutlined"),u=P,p=V,l=R,h=re,S=ee,c=ne,A=ae,k=z,U=d("admin-page-filters"),D=d("AddEdit"),I=te,O=le,F=oe,M=se,K=d("EditOutlined"),N=d("DownloadOutlined"),j=ie,q=de,H=d("admin-page-table-content");return i(),T(w,null,[n(U,null,{default:a(()=>[n(k,{gutter:[16,16]},{default:a(()=>[n(l,{xs:24,sm:24,md:12,lg:10,xl:10},{default:a(()=>[n(p,null,{default:a(()=>[W(e.$slots,"actionButtons"),e.table.selectedRowKeys.length>0&&(t.permsArray.includes("translations_edit")||t.permsArray.includes("admin"))?(i(),_(u,{key:0,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:a(()=>[n(b)]),default:a(()=>[f(" "+y(e.$t("common.delete")),1)]),_:1},8,["onClick"])):g("",!0)]),_:3})]),_:3}),n(l,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[n(k,{gutter:[16,16],justify:"end"},{default:a(()=>[n(l,{xs:24,sm:24,md:16,lg:12,xl:10},{default:a(()=>[n(A,{compact:""},{default:a(()=>[n(S,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":r[0]||(r[0]=o=>e.table.searchColumn=o),placeholder:e.$t("common.select_default_text",[""])},{default:a(()=>[(i(!0),T(w,null,X(t.filterableColumns,o=>(i(),_(h,{key:o.key},{default:a(()=>[f(y(o.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),n(c,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":r[1]||(r[1]=o=>e.table.searchString=o),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:3})]),_:3}),n(H,null,{default:a(()=>[n(D,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),n(k,null,{default:a(()=>[n(l,{span:24},{default:a(()=>[Z("div",Ae,[n(q,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:o=>({disabled:!((s.panelType=="admin"&&(t.permsArray.includes("translations_delete")||t.permsArray.includes("admin"))||s.panelType=="superadmin")&&o.key!="en"),name:o.xid})},columns:t.columns,"row-key":o=>o.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading||t.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:a(({column:o,record:m})=>[o.dataIndex==="name"?(i(),_(F,{key:0},{default:a(()=>[n(O,null,{title:a(()=>[f(y(m.name),1)]),avatar:a(()=>[n(I,{shape:"square",size:"small",src:m.image_url},null,8,["src"])]),_:2},1024)]),_:2},1024)):g("",!0),o.dataIndex==="enabled"?(i(),_(M,{key:1,checked:m.enabled,"onUpdate:checked":v=>m.enabled=v,checkedValue:1,unCheckedValue:0,onChange:v=>t.changeLangStatus(m),size:"small",disabled:s.panelType=="admin"&&!(t.permsArray.includes("translations_edit")||t.permsArray.includes("admin"))||m.key=="en"},null,8,["checked","onUpdate:checked","onChange","disabled"])):g("",!0),o.dataIndex==="action"?(i(),T(w,{key:2},[(s.panelType=="admin"&&(t.permsArray.includes("translations_edit")||t.permsArray.includes("admin"))||s.panelType=="superadmin")&&m.key!="en"?(i(),_(u,{key:0,type:"primary",onClick:v=>e.editItem(m),style:{"margin-left":"4px"}},{icon:a(()=>[n(K)]),_:2},1032,["onClick"])):g("",!0),(s.panelType=="admin"&&(t.permsArray.includes("translations_delete")||t.permsArray.includes("admin"))||s.panelType=="superadmin")&&m.key!="en"?(i(),_(u,{key:1,type:"primary",onClick:v=>e.showDeleteConfirm(m.xid),style:{"margin-left":"4px"}},{icon:a(()=>[n(b)]),_:2},1032,["onClick"])):g("",!0),n(j,{href:`${t.downloadLangCsvUrl}/${m.xid}`,target:"_blank"},{default:a(()=>[n(u,{type:"primary",style:{"margin-left":"4px"}},{icon:a(()=>[n(N)]),_:1})]),_:2},1032,["href"])],64)):g("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})],64)}const Te=B(Se,[["render",ve]]),we={components:{PlusOutlined:me,SettingSidebar:ge,AdminPageHeader:fe,LanguageSettings:Te,ImportTranslation:Ce},setup(){const{permsArray:e,appType:r}=L(),s=ue(null),t=window.config.translatioins_sample_file;return{permsArray:e,appType:r,langSettingRef:s,addItem:()=>{s.value.addItem()},sampleFileUrl:t}}};function Ee(e,r,s,t,C,E){const b=pe,u=d("router-link"),p=ce,l=_e,h=d("AdminPageHeader"),S=d("SettingSidebar"),c=R,A=d("PlusOutlined"),k=P,U=d("ImportTranslation"),D=V,I=d("LanguageSettings"),O=z;return i(),T(w,null,[n(h,null,{header:a(()=>[n(b,{title:e.$t("menu.languages"),onBack:r[0]||(r[0]=()=>e.$router.push({name:"admin.settings.translations.index"})),class:"p-0"},null,8,["title"])]),breadcrumb:a(()=>[n(l,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[n(p,null,{default:a(()=>[n(u,{to:{name:"admin.dashboard.index"}},{default:a(()=>[f(y(e.$t("menu.dashboard")),1)]),_:1})]),_:1}),n(p,null,{default:a(()=>[f(y(e.$t("menu.settings")),1)]),_:1}),n(p,null,{default:a(()=>[n(u,{to:{name:"admin.settings.translations.index"}},{default:a(()=>[f(y(e.$t("menu.translations")),1)]),_:1})]),_:1}),n(p,null,{default:a(()=>[f(y(e.$t("menu.languages")),1)]),_:1})]),_:1})]),_:1}),n(O,null,{default:a(()=>[n(c,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:a(()=>[n(S)]),_:1}),n(c,{xs:24,sm:24,md:24,lg:20,xl:20},{default:a(()=>[n(I,{ref:"langSettingRef"},{actionButtons:a(()=>[t.permsArray.includes("translations_create")||t.permsArray.includes("admin")?(i(),_(D,{key:0},{default:a(()=>[n(k,{type:"primary",onClick:t.addItem},{default:a(()=>[n(A),f(" "+y(e.$t("langs.add")),1)]),_:1},8,["onClick"]),t.appType=="non-saas"?(i(),_(U,{key:0,pageTitle:e.$t("translations.import_translations"),sampleFileUrl:t.sampleFileUrl,importUrl:"translations/import"},null,8,["pageTitle","sampleFileUrl"])):g("",!0)]),_:1})):g("",!0)]),_:1},512)]),_:1})]),_:1})],64)}const Ye=B(we,[["render",Ee]]);export{Ye as default};

import{_ as $,d as F,Y as O,r as U,o as B,c as D,a as o,w as l,j as p,t as r,h as b,p as k,B as I,ar as L,bh as S,q as M,f as T,bx as N,m as V,F as q,X as E}from"./app-OikDM5Kw.js";import{a as j}from"./apiAdmin-yFrp6bZq.js";import{U as A,a as P}from"./UploadFile-DR1pWrT7.js";import{C as R}from"./CloudDownloadOutlined-CJYOjgRr.js";const X=F({props:["pageTitle","sampleFileUrl","importUrl"],emits:["onUploadSuccess"],components:{CloudDownloadOutlined:R,UploadFile:A,UploadOutlined:P},setup(e,{emit:s}){const{addEditFileRequestAdmin:_,loading:d,rules:g}=j(),{t:v}=O(),a=U([]),n=U(!1),m=t=>(a.value=[...a.value,t],!1),c=()=>{const t={};a&&a.value&&a.value[0]!=null&&(t.file=a.value[0]),d.value=!0,_({url:e.importUrl,data:t,successMessage:v("messages.imported_successfully"),success:C=>{i(),s("onUploadSuccess")}})},u=()=>{n.value=!0},i=t=>{a.value=[],n.value=!1};return{fileList:a,rules:g,loading:d,visible:n,showModal:u,handleCancel:i,importItems:c,beforeUpload:m}}});function Y(e,s,_,d,g,v){const a=k("CloudDownloadOutlined"),n=I,m=L,c=S,u=M,i=T,t=k("UploadOutlined"),C=N,h=V,y=q,w=E;return B(),D("div",null,[o(n,{type:"primary",onClick:e.showModal},{default:l(()=>[o(a),p(" "+r(e.pageTitle),1)]),_:1},8,["onClick"]),o(w,{open:e.visible,"onUpdate:open":s[1]||(s[1]=f=>e.visible=f),title:e.pageTitle},{footer:l(()=>[o(n,{type:"primary",loading:e.loading,onClick:e.importItems},{default:l(()=>[p(r(e.$t("common.import")),1)]),_:1},8,["loading","onClick"]),o(n,{key:"back",onClick:e.handleCancel},{default:l(()=>[p(r(e.$t("common.cancel")),1)]),_:1},8,["onClick"])]),default:l(()=>[o(i,{gutter:16,class:"mb-10"},{default:l(()=>[o(u,{xs:24,sm:24,md:24,lg:24},{default:l(()=>[o(c,null,{default:l(()=>[b("ul",null,[b("li",null,[o(m,{href:e.sampleFileUrl,target:"_blank"},{default:l(()=>[p(r(e.$t("messages.click_here_to_download_sample_file")),1)]),_:1},8,["href"])])])]),_:1})]),_:1})]),_:1}),o(i,{gutter:16},{default:l(()=>[o(u,{xs:24,sm:24,md:24,lg:24},{default:l(()=>[o(y,{layout:"vertical"},{default:l(()=>[o(h,{label:e.$t("common.file"),name:"file",help:e.rules.file?e.rules.file.message:null,validateStatus:e.rules.file?"error":null},{default:l(()=>[o(C,{accept:".xlsx,.csv","file-list":e.fileList,"onUpdate:fileList":s[0]||(s[0]=f=>e.fileList=f),name:"file","before-upload":e.beforeUpload,maxCount:1},{default:l(()=>[o(n,{loading:e.loading},{icon:l(()=>[o(t)]),default:l(()=>[p(" "+r(e.$t("common.upload")),1)]),_:1},8,["loading"])]),_:1},8,["file-list","before-upload"])]),_:1},8,["label","help","validateStatus"])]),_:1})]),_:1})]),_:1})]),_:1},8,["open","title"])])}const K=$(X,[["render",Y]]);export{K as I};

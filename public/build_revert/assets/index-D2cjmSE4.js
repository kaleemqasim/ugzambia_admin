import{_ as H,Q as L,az as $,aA as j,Y as F,b as G,z as q,c as C,a,w as n,D as v,p as s,f as Q,o as d,j as u,t as c,g as p,i as _,L as Y,h as J,ay as W,aB as X,aC as Z,q as x,B as ee,a0 as ae,aD as ne,aE as te,aF as le,G as oe,aG as se}from"./app-OikDM5Kw.js";import{A as de,f as ie}from"./AddEdit-Bc0BheYM.js";import{c as re}from"./crud-BXjQ0O-i.js";import{A as me}from"./AdminPageHeader-MbAN4P4t.js";import{S as ue}from"./StaffSidebar-DC1KrnDV.js";import"./apiAdmin-yFrp6bZq.js";import"./SaveOutlined-BSR-wlKo.js";import"./datatable-DjynKO_7.js";import"./filter-CQCFHrIe.js";import"./index-CaGusbUe.js";import"./UserOutlined-6nf3lw0h.js";import"./ContainerOutlined-Bc7EnHDP.js";const ce={components:{PlusOutlined:L,EditOutlined:$,DeleteOutlined:j,AddEdit:de,AdminPageHeader:me,StaffSidebar:ue},setup(){const{t:e}=F(),{addEditUrl:i,initData:b,columns:t,filterableColumns:y,hashableColumns:k}=ie(),o=re(),{permsArray:r}=G();return q(()=>{(r.value.includes("departments_edit")||r.value.includes("departments_delete")||r.value.includes("admin"))&&(t.value=[...t.value,{title:e("common.action"),dataIndex:"action"}]),o.tableUrl.value={url:"departments?fields=id,xid,name"},o.table.filterableColumns=y,o.fetch({page:1}),o.crudUrl.value=i,o.langKey.value="department",o.initData.value={...b},o.formData.value={...b},o.hashableColumns.value=[...k]}),{columns:t,...o,filterableColumns:y,permsArray:r}}},pe={class:"table-responsive"};function _e(e,i,b,t,y,k){const o=W,r=s("router-link"),h=X,E=Z,w=s("AdminPageHeader"),D=s("StaffSidebar"),m=x,O=s("PlusOutlined"),f=ee,S=s("DeleteOutlined"),T=ae,B=se,P=ne,U=te,V=le,g=Q,I=s("admin-page-filters"),z=s("AddEdit"),K=s("EditOutlined"),M=oe,N=s("admin-page-table-content");return d(),C(v,null,[a(w,null,{header:n(()=>[a(o,{title:e.$t("menu.departments"),class:"p-0"},null,8,["title"])]),breadcrumb:n(()=>[a(E,{separator:"-",style:{"font-size":"12px"}},{default:n(()=>[a(h,null,{default:n(()=>[a(r,{to:{name:"admin.dashboard.index"}},{default:n(()=>[u(c(e.$t("menu.dashboard")),1)]),_:1})]),_:1}),a(h,null,{default:n(()=>[u(c(e.$t("menu.hrm")),1)]),_:1}),a(h,null,{default:n(()=>[u(c(e.$t("menu.departments")),1)]),_:1})]),_:1})]),_:1}),a(g,null,{default:n(()=>[a(m,{xs:24,sm:24,md:24,lg:4,xl:4,class:"bg-setting-sidebar"},{default:n(()=>[a(D)]),_:1}),a(m,{xs:24,sm:24,md:24,lg:20,xl:20},{default:n(()=>[a(I,null,{default:n(()=>[a(g,{gutter:[16,16]},{default:n(()=>[a(m,{xs:24,sm:24,md:12,lg:10,xl:10},{default:n(()=>[a(T,null,{default:n(()=>[t.permsArray.includes("departments_create")||t.permsArray.includes("admin")?(d(),p(f,{key:0,type:"primary",onClick:e.addItem},{default:n(()=>[a(O),u(" "+c(e.$t("department.add")),1)]),_:1},8,["onClick"])):_("",!0),e.table.selectedRowKeys.length>0&&(t.permsArray.includes("departments_delete")||t.permsArray.includes("admin"))?(d(),p(f,{key:1,type:"primary",onClick:e.showSelectedDeleteConfirm,danger:""},{icon:n(()=>[a(S)]),default:n(()=>[u(" "+c(e.$t("common.delete")),1)]),_:1},8,["onClick"])):_("",!0)]),_:1})]),_:1}),a(m,{xs:24,sm:24,md:12,lg:14,xl:14},{default:n(()=>[a(g,{gutter:[16,16],justify:"end"},{default:n(()=>[a(m,{xs:24,sm:24,md:12,lg:12,xl:8},{default:n(()=>[a(V,{compact:""},{default:n(()=>[a(P,{style:{width:"25%"},value:e.table.searchColumn,"onUpdate:value":i[0]||(i[0]=l=>e.table.searchColumn=l),placeholder:e.$t("common.select_default_text",[""])},{default:n(()=>[(d(!0),C(v,null,Y(t.filterableColumns,l=>(d(),p(B,{key:l.key},{default:n(()=>[u(c(l.value),1)]),_:2},1024))),128))]),_:1},8,["value","placeholder"]),a(U,{style:{width:"75%"},value:e.table.searchString,"onUpdate:value":i[1]||(i[1]=l=>e.table.searchString=l),"show-search":"",onChange:e.onTableSearch,onSearch:e.onTableSearch,loading:e.table.filterLoading},null,8,["value","onChange","onSearch","loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(N,null,{default:n(()=>[a(z,{addEditType:e.addEditType,visible:e.addEditVisible,url:e.addEditUrl,onAddEditSuccess:e.addEditSuccess,onClosed:e.onCloseAddEdit,formData:e.formData,data:e.viewData,pageTitle:e.pageTitle,successMessage:e.successMessage},null,8,["addEditType","visible","url","onAddEditSuccess","onClosed","formData","data","pageTitle","successMessage"]),a(g,null,{default:n(()=>[a(m,{span:24},{default:n(()=>[J("div",pe,[a(M,{"row-selection":{selectedRowKeys:e.table.selectedRowKeys,onChange:e.onRowSelectChange,getCheckboxProps:l=>({disabled:!1,name:l.xid})},columns:t.columns,"row-key":l=>l.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,bordered:"",size:"middle"},{bodyCell:n(({column:l,record:A})=>[l.dataIndex==="action"?(d(),C(v,{key:0},[t.permsArray.includes("departments_edit")||t.permsArray.includes("admin")?(d(),p(f,{key:0,type:"primary",onClick:R=>e.editItem(A),style:{"margin-left":"4px"}},{icon:n(()=>[a(K)]),_:2},1032,["onClick"])):_("",!0),t.permsArray.includes("departments_delete")||t.permsArray.includes("admin")?(d(),p(f,{key:1,type:"primary",onClick:R=>e.showDeleteConfirm(A.xid),style:{"margin-left":"4px"}},{icon:n(()=>[a(S)]),_:2},1032,["onClick"])):_("",!0)],64)):_("",!0)]),_:1},8,["row-selection","columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}const De=H(ce,[["render",_e]]);export{De as default};

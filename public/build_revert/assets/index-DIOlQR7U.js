import{_ as w,d as N,b as V,z as R,a6 as k,o as c,g as v,w as a,a as t,h as z,j as i,t as _,i as b,c as x,D as y,a1 as H,aR as L,G as M,q as A,f as I,e as U,cg as j,k as q,p,ay as F,aB as G,aC as W}from"./app-OikDM5Kw.js";import{d as P}from"./datatable-DjynKO_7.js";import{A as J}from"./AdminPageHeader-MbAN4P4t.js";import{U as K}from"./UserInfo-4wSQ2hbz.js";import{d as O,E as Q}from"./ExportTable-CioT-h8X.js";import{P as X}from"./PaymentStatus-CjQCOJGj.js";import{P as Y}from"./ProductSearchInput-BNlJXU7L.js";import"./filter-CQCFHrIe.js";import"./index-CaGusbUe.js";import"./PrinterOutlined-DKHuCtDd.js";import"./fields-Bh473hAH.js";const Z=N({props:{product_id:null},components:{UserInfo:K,PaymentStatus:X},setup(e){const{columns:d,hashableColumns:f}=O(),{formatDateTime:u,formatAmountCurrency:g,selectedWarehouse:h}=V(),s=P();R(()=>{m(e)});const m=o=>{const r={};o.product_id&&o.product_id!=null&&(r.x_id=o.product_id),s.tableUrl.value={url:"products?fields=id,xid,name,,item_code,image,image_url,category_id,x_category_id,category{id,xid,name},brand_id,x_brand_id,brand{id,xid,name},unit_id,x_unit_id,unit{id,xid,name,short_name},details{mrp,sales_price,tax_id,x_tax_id,purchase_tax_type,sales_tax_type},details:tax{id,xid,name,rate}",extraFilters:r},s.hashable.value=[...f],s.table.sorter={field:"name",order:"asc"},s.exportDetails.value={allowExport:!0,exportType:"rate_list_reports"},s.fetch({page:1})};return k(e,(o,r)=>{m(o)}),k(h,(o,r)=>{m(e)}),{columns:d,...s,formatDateTime:u,formatAmountCurrency:g}}}),ee={class:"table-responsive"};function te(e,d,f,u,g,h){const s=H,m=L,o=M,r=A,$=I;return c(),v($,null,{default:a(()=>[t(r,{span:24},{default:a(()=>[z("div",ee,[t(o,{columns:e.columns,"row-key":l=>l.xid,"data-source":e.table.data,pagination:e.table.pagination,loading:e.table.loading,onChange:e.handleTableChange,id:"rate-list-reports-table",bordered:"",size:"middle"},{bodyCell:a(({column:l,record:n})=>[l.dataIndex==="name"?(c(),v(m,{key:0},{default:a(()=>[t(s,{shape:"square",src:n.image_url},null,8,["src"]),i(" "+_(n.name),1)]),_:2},1024)):b("",!0),l.dataIndex==="category_id"?(c(),x(y,{key:1},[i(_(n.category&&n.category.name?n.category.name:"-"),1)],64)):b("",!0),l.dataIndex==="brand_id"?(c(),x(y,{key:2},[i(_(n.brand&&n.brand.name?n.brand.name:"-"),1)],64)):b("",!0),l.dataIndex==="mrp"?(c(),x(y,{key:3},[i(_(n.details.mrp?e.formatAmountCurrency(n.details.mrp):"-"),1)],64)):b("",!0),l.dataIndex==="sales_price"?(c(),x(y,{key:4},[i(_(e.formatAmountCurrency(n.details.sales_price)),1)],64)):b("",!0)]),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"])])]),_:1})]),_:1})}const ae=w(Z,[["render",te]]),ne={components:{AdminPageHeader:J,RateList:ae,ProductSearchInput:Y,ExprotTable:Q},setup(){const e=P(),{permsArray:d,willSubscriptionModuleVisible:f}=V(),u=q(),g=U({product_id:void 0});return j(()=>{(!(d.value.includes("products_view")||d.value.includes("admin"))||!f("reports"))&&u.push("admin.dashboard.index")}),{...e,permsArray:d,filters:g}}};function oe(e,d,f,u,g,h){const s=p("ExprotTable"),m=F,o=p("router-link"),r=G,$=W,l=p("AdminPageHeader"),n=A,B=p("ProductSearchInput"),C=I,T=p("admin-page-filters"),E=p("RateList"),S=p("admin-page-table-content");return c(),x(y,null,[t(l,null,{header:a(()=>[t(m,{title:e.$t("menu.rate_list"),class:"p-0"},{extra:a(()=>[t(s,{exportType:"rate_list_reports",tableName:"rate-list-reports-table",title:`${e.$t("menu.rate_list")} ${e.$t("menu.reports")}`},null,8,["title"])]),_:1},8,["title"])]),breadcrumb:a(()=>[t($,{separator:"-",style:{"font-size":"12px"}},{default:a(()=>[t(r,null,{default:a(()=>[t(o,{to:{name:"admin.dashboard.index"}},{default:a(()=>[i(_(e.$t("menu.dashboard")),1)]),_:1})]),_:1}),t(r,null,{default:a(()=>[i(_(e.$t("menu.reports")),1)]),_:1}),t(r,null,{default:a(()=>[i(_(e.$t("menu.rate_list")),1)]),_:1})]),_:1})]),_:1}),t(T,null,{default:a(()=>[t(C,{gutter:[16,16]},{default:a(()=>[t(n,{xs:24,sm:24,md:12,lg:10,xl:10}),t(n,{xs:24,sm:24,md:12,lg:14,xl:14},{default:a(()=>[t(C,{gutter:[16,16],justify:"end"},{default:a(()=>[t(n,{xs:24,sm:24,md:12,lg:8,xl:6},{default:a(()=>[t(B,{onValueChanged:d[0]||(d[0]=D=>{u.filters.product_id=D})})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(S,null,{default:a(()=>[t(E,{product_id:u.filters.product_id},null,8,["product_id"])]),_:1})],64)}const ge=w(ne,[["render",oe]]);export{ge as default};
